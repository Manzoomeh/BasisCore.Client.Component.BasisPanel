(()=>{var __webpack_modules__={465:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",u=9007199254740991,h="[object Arguments]",p="[object Boolean]",y="[object Date]",_="[object Function]",v="[object GeneratorFunction]",g="[object Map]",m="[object Number]",b="[object Object]",o="[object Promise]",w="[object RegExp]",A="[object Set]",x="[object String]",O="[object Symbol]",i="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",R="[object Float64Array]",j="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",S="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",N=/\w*$/,s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,I={};I[h]=I["[object Array]"]=I[T]=I[k]=I[p]=I[y]=I[E]=I[R]=I[j]=I[C]=I[P]=I[g]=I[m]=I[b]=I[w]=I[A]=I[x]=I[O]=I[S]=I[D]=I[L]=I[M]=!0,I["[object Error]"]=I[_]=I[i]=!1;var c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,a="object"==typeof self&&self&&self.Object===Object&&self,d=c||a||Function("return this")(),f=t&&!t.nodeType&&t,V=f&&e&&!e.nodeType&&e,n=V&&V.exports===f;function $(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function Z(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function U(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function B(t,n){return function(e){return t(n(e))}}function K(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var c=Array.prototype,a=Function.prototype,W=Object.prototype,t=d["__core-js_shared__"],G=(V=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",H=a.toString,z=W.hasOwnProperty,X=W.toString,J=RegExp("^"+H.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f=n?d.Buffer:void 0,t=d.Symbol,Q=d.Uint8Array,Y=B(Object.getPrototypeOf,Object),ee=Object.create,te=W.propertyIsEnumerable,ne=c.splice,V=Object.getOwnPropertySymbols,a=f?f.isBuffer:void 0,re=B(Object.keys,Object),n=Oe(d,"DataView"),oe=Oe(d,"Map"),c=Oe(d,"Promise"),f=Oe(d,"Set"),d=Oe(d,"WeakMap"),ie=Oe(Object,"create"),se=Re(n),ce=Re(oe),ae=Re(c),ue=Re(f),le=Re(d),t=t?t.prototype:void 0,de=t?t.valueOf:void 0;function fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function he(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){this.__data__=new he(e)}function _e(e,t){var n,r,o,i,s=Ce(e)||function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Pe(e)}(n=e)&&z.call(n,"callee")&&(!te.call(n,"callee")||X.call(n)==h)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length,a=!!c;for(r in e)!t&&!z.call(e,r)||a&&("length"==r||(o=r,!!(i=null==(i=c)?u:i)&&("number"==typeof o||l.test(o))&&-1<o&&o%1==0&&o<i))||s.push(r);return s}function ve(e,t,n){var r=e[t];z.call(e,t)&&je(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ge(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function me(n,r,o,i,e,t,s){var c;if(void 0!==(c=i?t?i(n,e,t,s):i(n):c))return c;if(!Le(n))return n;var a,u=Ce(n);if(u){if(c=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&z.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!r)return function(e,t){var n=-1,r=e.length;t=t||Array(r);for(;++n<r;)t[n]=e[n];return t}(n,c)}else{var l=ke(n),d=l==_||l==v;if(Se(n))return function(e,t){if(t)return e.slice();t=new e.constructor(e.length);return e.copy(t),t}(n,r);if(l==b||l==h||d&&!t){if(F(n))return t?n:{};if(c="function"!=typeof(a=d?{}:n).constructor||Ee(a)?{}:function(e){return Le(e)?ee(e):{}}(Y(a)),!r)return d=e=n,a=(a=c)&&Ae(d,Me(d),a),Ae(e,Te(e),a)}else{if(!I[l])return t?n:{};c=function(e,t,n,r){var o=e.constructor;switch(t){case T:return we(e);case p:case y:return new o(+e);case k:return function(e,t){t=t?we(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,r);case E:case R:case j:case C:case P:case S:case D:case L:case M:return function(e,t){t=t?we(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}(e,r);case g:return function(e,t,n){return Z(t?n(U(e),!0):U(e),$,new e.constructor)}(e,r,n);case m:case x:return new o(e);case w:return function(e){var t=new e.constructor(e.source,N.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return function(e,t,n){return Z(t?n(K(e),!0):K(e),q,new e.constructor)}(e,r,n);case O:return function(e){return de?Object(de.call(e)):{}}(e)}}(n,l,me,r)}}var f,l=(s=s||new ye).get(n);return l||(s.set(n,c),function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}((f=!u?o?function(e,t,n){t=t(e);return Ce(e)?t:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(t,n(e))}(n,Me,Te):Me(n):f)||n,function(e,t){f&&(e=n[t=e]),ve(c,t,me(e,r,o,i,t,n,s))}),c)}function be(e){var t;return Le(e)&&(t=e,!(G&&G in t))&&(De(e)||F(e)?J:s).test(Re(e))}function we(e){var t=new e.constructor(e.byteLength);return new Q(t).set(new Q(e)),t}function Ae(e,t,n,r){n=n||{};for(var o=-1,i=t.length;++o<i;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;ve(n,s,void 0===c?e[s]:c)}return n}function xe(e,t){var n,r=e.__data__;return("string"==(e=typeof(n=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Oe(e,t){t=t,t=null==(e=e)?void 0:e[t];return be(t)?t:void 0}fe.prototype.clear=function(){this.__data__=ie?ie(null):{}},fe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},fe.prototype.get=function(e){var t=this.__data__;if(ie){var n=t[e];return n===r?void 0:n}return z.call(t,e)?t[e]:void 0},fe.prototype.has=function(e){var t=this.__data__;return ie?void 0!==t[e]:z.call(t,e)},fe.prototype.set=function(e,t){return this.__data__[e]=ie&&void 0===t?r:t,this},he.prototype.clear=function(){this.__data__=[]},he.prototype.delete=function(e){var t=this.__data__;return!((e=ge(t,e))<0)&&(e==t.length-1?t.pop():ne.call(t,e,1),!0)},he.prototype.get=function(e){var t=this.__data__;return(e=ge(t,e))<0?void 0:t[e][1]},he.prototype.has=function(e){return-1<ge(this.__data__,e)},he.prototype.set=function(e,t){var n=this.__data__,r=ge(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},pe.prototype.clear=function(){this.__data__={hash:new fe,map:new(oe||he),string:new fe}},pe.prototype.delete=function(e){return xe(this,e).delete(e)},pe.prototype.get=function(e){return xe(this,e).get(e)},pe.prototype.has=function(e){return xe(this,e).has(e)},pe.prototype.set=function(e,t){return xe(this,e).set(e,t),this},ye.prototype.clear=function(){this.__data__=new he},ye.prototype.delete=function(e){return this.__data__.delete(e)},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this;n=this.__data__=new pe(r)}return n.set(e,t),this};var Te=V?B(V,Object):function(){return[]},ke=function(e){return X.call(e)};function Ee(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}function Re(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function je(e,t){return e===t||e!=e&&t!=t}(n&&ke(new n(new ArrayBuffer(1)))!=k||oe&&ke(new oe)!=g||c&&ke(c.resolve())!=o||f&&ke(new f)!=A||d&&ke(new d)!=i)&&(ke=function(e){var t=X.call(e),e=t==b?e.constructor:void 0,e=e?Re(e):void 0;if(e)switch(e){case se:return k;case ce:return g;case ae:return o;case ue:return A;case le:return i}return t});var Ce=Array.isArray;function Pe(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=u)&&!De(e);var t}var Se=a||function(){return!1};function De(e){e=Le(e)?X.call(e):"";return e==_||e==v}function Le(e){var t=typeof e;return e&&("object"==t||"function"==t)}function Me(e){return(Pe(e)?_e:function(e){if(!Ee(e))return re(e);var t,n=[];for(t in Object(e))z.call(e,t)&&"constructor"!=t&&n.push(t);return n})(e)}e.exports=function(e){return me(e,!0,!0)}},98:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object AsyncFunction]",c="[object Function]",a="[object GeneratorFunction]",u="[object Null]",b="[object Object]",l="[object Proxy]",d="[object Undefined]",f=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[i]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p[c]=p["[object Map]"]=p["[object Number]"]=p[b]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1;var y="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,_="object"==typeof self&&self&&self.Object===Object&&self,v=y||_||Function("return this")(),g=t&&!t.nodeType&&t,m=g&&e&&!e.nodeType&&e,n=m&&m.exports===g,w=n&&y.process,_=function(){try{var e=m&&m.require&&m.require("util").types;return e?e:w&&w.binding&&w.binding("util")}catch(e){}}(),t=_&&_.isTypedArray;function A(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var x,O,g=Array.prototype,y=Function.prototype,T=Object.prototype,_=v["__core-js_shared__"],k=y.toString,E=T.hasOwnProperty,R=(_=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",j=T.toString,C=k.call(Object),P=RegExp("^"+k.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=n?v.Buffer:void 0,n=v.Symbol,S=v.Uint8Array,D=_?_.allocUnsafe:void 0,L=(x=Object.getPrototypeOf,O=Object,function(e){return x(O(e))}),M=Object.create,N=T.propertyIsEnumerable,I=g.splice,V=n?n.toStringTag:void 0,$=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_=_?_.isBuffer:void 0,q=Math.max,Z=Date.now,F=le(v,"Map"),U=le(Object,"create"),B=function(e){if(!Te(e))return{};if(M)return M(e);K.prototype=e;e=new K;return K.prototype=void 0,e};function K(){}function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){e=this.__data__=new G(e);this.size=e.size}function X(e,t){var n,r=be(e),o=!r&&me(e),i=!r&&!o&&Ae(e),s=!r&&!o&&!i&&Re(e),c=r||o||i||s,a=c?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=a.length;for(n in e)!t&&!E.call(e,n)||c&&("length"==n||i&&("offset"==n||"parent"==n)||s&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||de(n,u))||a.push(n);return a}function J(e,t,n){(void 0===n||ge(e[t],n))&&(void 0!==n||t in e)||Y(e,t,n)}function Q(e,t){for(var n=e.length;n--;)if(ge(e[n][0],t))return n;return-1}function Y(e,t,n){"__proto__"==t&&$?$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}W.prototype.clear=function(){this.__data__=U?U(null):{},this.size=0},W.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},W.prototype.get=function(e){var t=this.__data__;if(U){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return U?void 0!==t[e]:E.call(t,e)},W.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=U&&void 0===t?r:t,this},G.prototype.clear=function(){this.__data__=[],this.size=0},G.prototype.delete=function(e){var t=this.__data__;return!((e=Q(t,e))<0)&&(e==t.length-1?t.pop():I.call(t,e,1),--this.size,!0)},G.prototype.get=function(e){var t=this.__data__;return(e=Q(t,e))<0?void 0:t[e][1]},G.prototype.has=function(e){return-1<Q(this.__data__,e)},G.prototype.set=function(e,t){var n=this.__data__,r=Q(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},H.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(F||G),string:new W}},H.prototype.delete=function(e){return e=ue(this,e).delete(e),this.size-=e?1:0,e},H.prototype.get=function(e){return ue(this,e).get(e)},H.prototype.has=function(e){return ue(this,e).has(e)},H.prototype.set=function(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},z.prototype.clear=function(){this.__data__=new G,this.size=0},z.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},z.prototype.get=function(e){return this.__data__.get(e)},z.prototype.has=function(e){return this.__data__.has(e)},z.prototype.set=function(e,t){var n=this.__data__;if(n instanceof G){var r=n.__data__;if(!F||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new H(r)}return n.set(e,t),this.size=n.size,this};var ee,te=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var c=i[ee?s:++r];if(!1===t(o[c],c,o))break}return e};function ne(e){return null==e?void 0===e?d:u:V&&V in Object(e)?function(e){var t=E.call(e,V),n=e[V];try{var r=!(e[V]=void 0)}catch(e){}var o=j.call(e);r&&(t?e[V]=n:delete e[V]);return o}(e):j.call(e)}function re(e){return ke(e)&&ne(e)==i}function oe(e){var t;return Te(e)&&(t=e,!(R&&R in t))&&(xe(e)?P:f).test(function(e){if(null!=e){try{return k.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ie(e){if(!Te(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n=fe(e),r=[];for(t in e)("constructor"!=t||!n&&E.call(e,t))&&r.push(t);return r}function se(y,_,v,g,m){y!==_&&te(_,function(e,t){var n,r,o,i,s,c,a,u,l,d,f,h,p;m=m||new z,Te(e)?(r=_,i=v,s=se,c=g,a=m,f=he(n=y,o=t),h=he(r,o),(p=a.get(h))?J(n,o,p):(u=c?c(f,h,o+"",n,r,a):void 0,(l=void 0===u)&&(d=be(h),p=!d&&Ae(h),r=!d&&!p&&Re(h),u=h,d||p||r?u=be(f)?f:function(e){return ke(e)&&we(e)}(f)?function(e,t){var n=-1,r=e.length;t=t||Array(r);for(;++n<r;)t[n]=e[n];return t}(f):p?function(e,t){if(t)return e.slice();t=e.length,t=D?D(t):new e.constructor(t);return e.copy(t),t}(h,!(l=!1)):r?function(e,t){t=t?function(e){var t=new e.constructor(e.byteLength);return new S(t).set(new S(e)),t}(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}(h,!(l=!1)):[]:function(e){if(!ke(e)||ne(e)!=b)return!1;e=L(e);if(null===e)return!0;e=E.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&k.call(e)==C}(h)||me(h)?me(u=f)?u=function(e){return function(e,t,n,r){var o=!n;n=n||{};var i=-1,s=t.length;for(;++i<s;){var c=t[i],a=r?r(n[c],e[c],c,n,e):void 0;void 0===a&&(a=e[c]),(o?Y:function(e,t,n){var r=e[t];E.call(e,t)&&ge(r,n)&&(void 0!==n||t in e)||Y(e,t,n)})(n,c,a)}return n}(e,je(e))}(f):Te(f)&&!xe(f)||(u=function(e){return"function"!=typeof e.constructor||fe(e)?{}:B(L(e))}(h)):l=!1),l&&(a.set(h,u),s(u,h,i,c,a),a.delete(h)),J(n,o,u))):(u=g?g(he(y,t),e,t+"",y,_,m):void 0,J(y,t,u=void 0===u?e:u))},je)}function ce(e,t){return ve((i=e,c=Se,s=q(void 0===(s=t)?i.length-1:s,0),function(){for(var e=arguments,t=-1,n=q(e.length-s,0),r=Array(n);++t<n;)r[t]=e[s+t];for(var t=-1,o=Array(s+1);++t<s;)o[t]=e[t];return o[s]=c(r),A(i,this,o)}),e+"");var i,s,c}function ae(e,t,n,r,o,i){return Te(e)&&Te(t)&&(i.set(t,e),se(e,t,void 0,ae,i),i.delete(t)),e}function ue(e,t){var n,r=e.__data__;return("string"==(e=typeof(n=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function le(e,t){t=t,t=null==(e=e)?void 0:e[t];return oe(t)?t:void 0}function de(e,t){var n=typeof e;return(t=null==t?o:t)&&("number"==n||"symbol"!=n&&h.test(e))&&-1<e&&e%1==0&&e<t}function fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||T)}function he(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pe,ye,_e,ve=(pe=$?function(e,t){return $(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Se,_e=ye=0,function(){var e=Z(),t=16-(e-_e);if(_e=e,0<t){if(800<=++ye)return arguments[0]}else ye=0;return pe.apply(void 0,arguments)});function ge(e,t){return e===t||e!=e&&t!=t}var me=re(function(){return arguments}())?re:function(e){return ke(e)&&E.call(e,"callee")&&!N.call(e,"callee")},be=Array.isArray;function we(e){return null!=e&&Oe(e.length)&&!xe(e)}var Ae=_||function(){return!1};function xe(e){if(Te(e)){e=ne(e);return e==c||e==a||e==s||e==l}}function Oe(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=o}function Te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Ee,Re=t?(Ee=t,function(e){return Ee(e)}):function(e){return ke(e)&&Oe(e.length)&&!!p[ne(e)]};t=ce(function(e){return e.push(void 0,ae),A(Pe,void 0,e)});function je(e){return we(e)?X(e,!0):ie(e)}var Ce,Pe=(Ce=function(e,t,n,r){se(e,t,n,r)},ce(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,i=2<r?t[2]:void 0,o=3<Ce.length&&"function"==typeof o?(r--,o):void 0;for(i&&function(e,t,n){if(!Te(n))return!1;var r=typeof t;if("number"==r?we(n)&&de(t,n.length):"string"==r&&t in n)return ge(n[t],e);return!1}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var s=t[n];s&&Ce(e,s,n,o)}return e}));function Se(e){return e}e.exports=t},660:(e,t,j)=>{
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var C;C={},function(){var e,c,r,a,u,o,i,f,s,t="object"==typeof j.g?j.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=R(C);function l(e,t,n){var r=s.get(e);if(v(r)){if(!n)return;r=new i,s.set(e,r)}e=r.get(t);if(v(e)){if(!n)return;e=new i,r.set(t,e)}return e}function d(e,t,n){n=l(t,n,!1);return!v(n)&&!!n.has(e)}function h(e,t,n){n=l(t,n,!1);if(!v(n))return n.get(e)}function p(e,t,n,r){l(n,r,!0).set(e,t)}function y(e,t){var n=[],t=l(e,t,!1);if(v(t))return n;for(var r,o,i=function(e){var t=T(e,a);if(!x(t))throw new TypeError;e=t.call(e);if(!m(e))throw new TypeError;return e}(t.keys()),s=0;;){var c=function(e){e=e.next();return!e.done&&e}(i);if(!c)return n.length=s,n;c=c.value;try{n[s]=c}catch(e){try{o=void 0,(o=(r=i).return)&&o.call(r)}finally{throw e}}s++}}function _(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function v(e){return void 0===e}function g(e){return null===e}function m(e){return"object"==typeof e?null!==e:"function"==typeof e}function b(e,t){switch(_(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",t=T(e,r);if(void 0===t)return function(e,t){if("string"===t){var n=e.toString;if(x(n))if(!m(r=n.call(e)))return r;n=e.valueOf;if(x(n))if(!m(r=n.call(e)))return r}else{n=e.valueOf;if(x(n))if(!m(r=n.call(e)))return r;var r,n=e.toString;if(x(n))if(!m(r=n.call(e)))return r}throw new TypeError}(e,"default"==n?"number":n);n=t.call(e,n);if(m(n))throw new TypeError;return n}function w(e){e=b(e,3);return"symbol"==typeof e?e:""+e}function A(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function x(e){return"function"==typeof e}function O(e){return"function"==typeof e}function T(e,t){t=e[t];if(null!=t){if(!x(t))throw new TypeError;return t}}function k(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===o)return t;if(t!==o)return t;var n=e.prototype,n=n&&Object.getPrototypeOf(n);if(null==n||n===Object.prototype)return t;n=n.constructor;return"function"!=typeof n||n===e?t:n}function E(e){return e.__=void 0,delete e.__,e}function R(n,r){return function(e,t){"function"!=typeof n[e]&&Object.defineProperty(n,e,{configurable:!0,writable:!0,value:t}),r&&r(e,t)}}void 0===t.Reflect?t.Reflect=C:n=R(t.Reflect,n),e=n,c=Object.prototype.hasOwnProperty,t="function"==typeof Symbol,r=t&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=t&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",n="function"==typeof Object.create,t={__proto__:[]}instanceof Array,u={create:n?function(){return E(Object.create(null))}:t?function(){return E({__proto__:null})}:function(){return E({})},has:(t=!n&&!t)?function(e,t){return c.call(e,t)}:function(e,t){return t in e},get:t?function(e,t){return c.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},o=Object.getPrototypeOf(Function),t="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,i=t||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var o={},n=[],t=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(0<=e&&e<this._keys.length){var t=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:t,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),e},e.prototype.return=function(e){return 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),{value:e,done:!0}},e}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=o,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return 0<=this._find(e,!1)},e.prototype.get=function(e){e=this._find(e,!1);return 0<=e?this._values[e]:void 0},e.prototype.set=function(e,t){e=this._find(e,!0);return this._values[e]=t,this},e.prototype.delete=function(e){var t=this._find(e,!1);if(0<=t){for(var n=this._keys.length,r=t+1;r<n;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=o,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=o,this._cacheIndex=-2},e.prototype.keys=function(){return new t(this._keys,this._values,r)},e.prototype.values=function(){return new t(this._keys,this._values,i)},e.prototype.entries=function(){return new t(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[a]=function(){return this.entries()},e.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},e}();function r(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}():Map,f=t||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new i}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}():Set,s=new(t||"function"!=typeof WeakMap?function(){var o=16,t=u.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){e=i(e,!1);return void 0!==e&&u.has(e,this._key)},e.prototype.get=function(e){e=i(e,!1);return void 0!==e?u.get(e,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){e=i(e,!1);return void 0!==e&&delete e[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){for(var e;e="@@WeakMap@@"+function(){var e=function(e){return"function"!=typeof Uint8Array?s(new Array(e),e):"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e)}(o);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<o;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}(),u.has(t,e););return t[e]=!0,e}function i(e,t){if(!c.call(e,n)){if(!t)return;Object.defineProperty(e,n,{value:u.create()})}return e[n]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}}():WeakMap),e("decorate",function(e,t,n,r){{if(v(n)){if(!A(e))throw new TypeError;if(!O(t))throw new TypeError;return function(e,t){for(var n=e.length-1;0<=n;--n){var r=(0,e[n])(t);if(!v(r)&&!g(r)){if(!O(r))throw new TypeError;t=r}}return t}(e,t)}if(!A(e))throw new TypeError;if(!m(t))throw new TypeError;if(!m(r)&&!v(r)&&!g(r))throw new TypeError;return g(r)&&(r=void 0),n=w(n),function(e,t,n,r){for(var o=e.length-1;0<=o;--o){var i=(0,e[o])(t,n,r);if(!v(i)&&!g(i)){if(!m(i))throw new TypeError;r=i}}return r}(e,t,n,r)}}),e("metadata",function(n,r){return function(e,t){if(!m(e))throw new TypeError;if(!v(t)&&!function(e){switch(_(e)){case 3:case 4:return!0;default:return!1}}(t))throw new TypeError;p(n,r,e,t)}}),e("defineMetadata",function(e,t,n,r){if(!m(n))throw new TypeError;v(r)||(r=w(r));return p(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!m(t))throw new TypeError;v(n)||(n=w(n));return function e(t,n,r){var o=d(t,n,r);if(o)return!0;var n=k(n);if(!g(n))return e(t,n,r);return!1}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!m(t))throw new TypeError;v(n)||(n=w(n));return d(e,t,n)}),e("getMetadata",function(e,t,n){if(!m(t))throw new TypeError;v(n)||(n=w(n));return function e(t,n,r){var o=d(t,n,r);if(o)return h(t,n,r);var n=k(n);if(!g(n))return e(t,n,r);return}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!m(t))throw new TypeError;v(n)||(n=w(n));return h(e,t,n)}),e("getMetadataKeys",function(e,t){if(!m(e))throw new TypeError;v(t)||(t=w(t));return function e(t,n){var r=y(t,n);var t=k(t);if(null===t)return r;var n=e(t,n);if(n.length<=0)return r;if(r.length<=0)return n;var o=new f;var i=[];for(var s=0,c=r;s<c.length;s++){var a=c[s],u=o.has(a);u||(o.add(a),i.push(a))}for(var l=0,d=n;l<d.length;l++){var a=d[l],u=o.has(a);u||(o.add(a),i.push(a))}return i}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!m(e))throw new TypeError;v(t)||(t=w(t));return y(e,t)}),e("deleteMetadata",function(e,t,n){if(!m(t))throw new TypeError;v(n)||(n=w(n));var r=l(t,n,!1);if(v(r))return!1;if(!r.delete(e))return!1;if(0<r.size)return!0;r=s.get(t);return r.delete(n),0<r.size||s.delete(t),!0})}()},884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(195),i=n(397),o=n(737),s=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class c extends o.Z{constructor(e,t,n){super(e,t),this.priority=i.UL.none,this.attribute=n,this.token=this.attribute.value.ToStringToken(t),this.addTrigger(this.token.getSourceNames())}initializeAsync(){return s(this,void 0,void 0,function*(){var e=yield this.token.getValueAsync(!1);this.setContent(null!=e?e:"")})}renderAsync(e){return s(this,void 0,void 0,function*(){var e=yield this.token.getValueAsync();this.setContent(e)})}setContent(e){this.attribute.value=e}}var a=n(812),u=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class l extends o.Z{constructor(e,t,n,r){super(e,t),this.priority=i.UL.none;const o=document.createRange();o.setStart(e,n),o.setEnd(e,r),this.rangeObject=new a.Z(o,this),this.token=this.rangeObject.initialContent.textContent.ToStringToken(t)}initializeAsync(){return u(this,void 0,void 0,function*(){this.addTrigger(this.token.getSourceNames());var e=yield this.token.getValueAsync(!1);this.setContent(null!=e?e:"")})}renderAsync(e){return u(this,void 0,void 0,function*(){var e=yield this.token.getValueAsync();this.setContent(e)})}setContent(e){return u(this,void 0,void 0,function*(){this.rangeObject.setContent(e)})}}var d,f=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},t=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n=function(n,r){return function(e,t){r(e,t,n)}},h=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},o=d=class{constructor(e,t){this._disposed=!1,this.container=t,this.context=e,this.regex=this.context.options.getDefault("binding.regex"),this.blockRegex=this.context.options.getDefault("binding.codeblock-regex")}get disposed(){return this._disposed}get initializeTask(){return this._initializeTask}processNodesAsync(e){return h(this,void 0,void 0,function*(){if(this.components)throw new Error("Run ComponentCollection for more than one");this.components=this.extractComponent(e),this._initializeTask=this.initializeAsync(this.components),yield this._initializeTask,yield this.runAsync(this.components)})}initializeAsync(t){return h(this,void 0,void 0,function*(){var e=t.map(e=>e.initializeAsync());yield Promise.all(e)})}runAsync(o){return h(this,void 0,void 0,function*(){const e=o.reduce((t,n)=>{if(n.priority!=i.UL.none){let e=t.get(n.priority);e||(e=new Array,t.set(n.priority,e)),e.push(n)}return t},new Map);for(const n of[i.UL.high,i.UL.normal,i.UL.low]){const r=e.get(n);var t;r&&(t=r.map(e=>e.processAsync()),yield Promise.all(t))}})}extractComponent(e){const t=new Array;return e.forEach(e=>{this.extractTextBaseComponents(e,t),this.extractBasisCommands(e,t)}),t}extractBasisCommands(e,t){e=this.findRootLevelComponentNode(e);for(const o of e.coreList){var n=o.getAttribute("core").split(".",2)[0].toLowerCase();t.push(this.createCommandComponent(o,n))}for(const i of e.tagList){var r=i.tagName.toLowerCase(),r=-1!=d.knowHtmlElement.indexOf(r)?r:"unknown-html";t.push(this.createCommandComponent(i,r))}}extractTextComponent(t,n){if(0!=t.textContent.trim().length)for(;;){let e=t.textContent.match(this.regex);if(e=e||t.textContent.match(this.blockRegex),!e)break;var r=new l(t,this.context,e.index,e.index+e[0].length);n.push(r)}}extractAttributeComponent(r,o){return h(this,void 0,void 0,function*(){for(const n of r.attributes)if(0!=n.value.trim().length){let e=n.value.match(this.regex);var t;e=e||n.value.match(this.blockRegex),e&&(t=new c(r,this.context,n),o.push(t))}})}extractTextBaseComponents(e,t){if(e.nodeType==Node.TEXT_NODE)this.extractTextComponent(e,t);else if(e.nodeType!=Node.COMMENT_NODE)if(e instanceof Element){if(!e.isBasisCore()&&(this.extractAttributeComponent(e,t),e.hasChildNodes()))for(const n of e.childNodes)this.extractTextBaseComponents(n,t)}else if(e.hasChildNodes())for(const r of e.childNodes)this.extractTextBaseComponents(r,t)}createCommandComponent(e,t){const n=this.container.createChildContainer();return n.register("element",{useValue:e}),n.register("context",{useValue:this.context}),n.register("container",{useValue:n}),n.resolve(t)}findRootLevelComponentNode(e){const t=new Array,n=new Array;var r=e=>{if(e instanceof Element){if(e.isBasisCore())return void t.push(e);e.isBasisTag()&&n.push(e)}e.childNodes.forEach(r)};return r(e),{coreList:t,tagList:n}}disposeAsync(){var t;return h(this,void 0,void 0,function*(){var e;this._disposed||(this._disposed=!0,e=null===(t=this.components)||void 0===t?void 0:t.map(e=>e.disposeAsync()),yield Promise.all(e),null!==(t=this.components)&&void 0!==t&&t.splice(0,this.components.length))})}};o.knowHtmlElement=["form","input","select"],d=f([(0,r.b2)(),n(0,(0,r.f3)("context")),n(1,(0,r.f3)("container")),t("design:paramtypes",[Object,Object])],o);const p=d},812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e,t){this._startNode=document.createTextNode(""),this._endNode=document.createTextNode(""),this.initialContent=e.extractContents(),e.insertNode(this._endNode),e.insertNode(this._startNode),e.detach()}getRange(){const e=new Range;return e.setStartAfter(this._startNode),e.setEndBefore(this._endNode),e}deleteContents(){const e=this.getRange();e.deleteContents(),e.detach()}setContent(e,t=!1){const n=this.getRange();t||n.deleteContents();const r=n.extractContents();e instanceof Node?r.appendChild(e):Array.isArray(e)?r.appendChild(n.createContextualFragment(e.join(","))):r.appendChild(n.createContextualFragment(e.toString())),n.insertNode(r),n.detach()}}},102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class c{static HasValue(e){return void 0!==e&&null!=e}static isEqual(e,t){return(e||"").isEqual(t)}static Equal(e,t){var n=!0;if(c.HasValue(e)&&c.HasValue(t)){var r=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(r.length!=o.length)n=!1;else for(var i=0;i<r.length;i++){var s=r[i];if(e[s]!==t[s]){n=!1;break}}}else n=!1;return n}static ReplaceEx(e,t,n){return e.replace(new RegExp(t,"gi"),n)}static IsNullOrEmpty(e){return void 0===e||null==e||""===e}static getDataAsync(e){return c.fetchDataAsync(e,"GET")}static fetchDataAsync(n,r,o){return i(this,void 0,void 0,function*(){const e={method:r};o&&(e.headers={"Content-Type":"application/json"},e.body=JSON.stringify(o));const t=yield fetch(n,e);return yield t.json()})}static formatString(e,t){const n=[...Object.getOwnPropertyNames(t)],r=new Function(...n,`return \`${e}\``);return r(...n.map(e=>Reflect.get(t,e)))}static formatUrl(e,t,n){let r=t?c.formatString(e,t):e;if(n){const o=Object.getOwnPropertyNames(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(Reflect.get(n,e))}`);r=`${r}?${o.join("&")}`}return r}static parse(e){return c.parser.parseFromString(e,"text/html")}static Move(e,t){for(;0<e.childNodes.length;)t.appendChild(e.childNodes[0])}}c.parser=new DOMParser},210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(812);class o extends n(986).Z{constructor(e,t){super(e,t),this.core=this.node.getAttribute("core");const n=document.createRange();n.selectNode(this.node),this.range=new r.Z(n,this),this.content=this.range.initialContent}setContent(e,t){this.range.setContent(e,t)}}},737:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(397),o=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class i{constructor(e,t){this._handlingSource=new Array,this.priority=r.UL.low,this.allowMultiProcess=!1,this._busy=!1,this._disposed=!1,this.node=e,this.context=t,this._handler=this.onTrigger.bind(this)}get disposed(){return this._disposed}get busy(){return this._busy}processAsync(){return this.onTrigger()}onTrigger(e){return o(this,void 0,void 0,function*(){if(!this._disposed&&(!this._busy||this.allowMultiProcess)){this._busy=!0;try{yield this.renderAsync(e)}finally{this._busy=!1}}})}addTrigger(e){null!=e&&e.forEach(e=>{-1===this._handlingSource.indexOf(e)&&(this.context.addOnSourceSetHandler(e,this._handler),this._handlingSource.push(e))})}disposeAsync(){return this._handlingSource.forEach(e=>{this.context.removeOnSourceSetHandler(e,this._handler)}),this._disposed=!0,Promise.resolve()}}},986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var n=n(737),o=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class r extends n.Z{constructor(e,t){super(e,t)}get triggers(){return this._triggers}initializeAsync(){return o(this,void 0,void 0,function*(){this.ifToken=this.getAttributeToken("if");var e=yield this.getAttributeValueAsync("OnRendering");e&&(this.onRenderingAsync=new Function("callbackArgument",`return ${e}(callbackArgument);`));e=yield this.getAttributeValueAsync("OnRendered");e&&(this.onRenderedAsync=new Function("callbackArgument",`return ${e}(callbackArgument);`));e=yield this.getAttributeValueAsync("OnProcessing");e&&(this.onProcessingAsync=new Function("callbackArgument",`return ${e}(callbackArgument);`));e=yield this.getAttributeValueAsync("OnProcessed");e&&(this.onProcessedAsync=new Function("callbackArgument",`return ${e}(callbackArgument);`));const t=yield this.getAttributeValueAsync("triggers");this._triggers=null===t||void 0===t?void 0:t.split(" "),this.addTrigger(this._triggers)})}getIfValueAsync(){var r;return o(this,void 0,void 0,function*(){var t=yield null===(r=this.ifToken)||void 0===r?void 0:r.getValueAsync();let e=!0;if(null!=t&&null!=t)try{const n=new Function(`try{return ${t};}catch{return false;}`);e=n()}catch(e){throw console.error(`Error in parse 'if' attribute expression in command: '${t}'`),e}return e})}renderAsync(n){return o(this,void 0,void 0,function*(){let e=yield this.getIfValueAsync();e&&this.onRenderingAsync&&(t=this.createCallbackArgument({prevent:!1,source:n}),yield this.onRenderingAsync(t),e=!t.prevent);var t=null;e&&null!==(t=yield this.runAsync(n))&&this.onRenderedAsync&&(yield this.onRenderedAsync(this.createCallbackArgument({result:t,source:n})))})}getAttributeValueAsync(t,n=null){var r;return o(this,void 0,void 0,function*(){const e=this.getAttributeToken(t);return null!==(r=yield null===e||void 0===e?void 0:e.getValueAsync())&&void 0!==r?r:n})}getAttributeObjectValueAsync(t,n=null){var r;return o(this,void 0,void 0,function*(){const e=this.node.GetObjectToken(t,this.context);return null!==(r=yield null===e||void 0===e?void 0:e.getValueAsync())&&void 0!==r?r:n})}getAttributeBooleanValueAsync(t,n=!1){var r;return o(this,void 0,void 0,function*(){const e=this.node.GetBooleanToken(t,this.context);return null!==(r=yield null===e||void 0===e?void 0:e.getValueAsync())&&void 0!==r?r:n})}getAttributeToken(e){return this.node.GetStringToken(e,this.context)}createCallbackArgument(e){return Object.assign({context:this.context,node:this.node},e)}}},26:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tsyringe__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195),_ComponentCollection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(884),_CommandComponent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(210),_context_LocalRootContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(523),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4__),__decorate=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=function(n,r){return function(e,t){r(e,t,n)}},__awaiter=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};let GroupComponent=class GroupComponent extends _CommandComponent__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(e,t,n){super(e,t),this.container=n;const r=document.createDocumentFragment();this.childNodes=[...e.childNodes],this.childNodes.forEach(e=>r.appendChild(e)),this.range.setContent(r)}runAsync(){var _a;return __awaiter(this,void 0,void 0,function*(){null!==(_a=this.oldLocalContext)&&void 0!==_a&&_a.dispose(),this.currentDC=this.container.createChildContainer(),this.currentDC.register("OwnerContext",{useValue:this.context}),this.currentDC.register("container",{useValue:this.currentDC});const options=yield this.getAttributeValueAsync("options");if(options){const newOptions=lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4___default()(eval(options),this.context.options.originalOptions);this.currentDC.register("IHostOptions",{useValue:newOptions}),this.oldLocalContext=this.currentDC.resolve(_context_LocalRootContext__WEBPACK_IMPORTED_MODULE_3__.Z)}else this.oldLocalContext=this.currentDC.resolve("ILocalContext");this.currentDC.register("context",{useValue:this.oldLocalContext}),this.collection=this.currentDC.resolve(_ComponentCollection__WEBPACK_IMPORTED_MODULE_1__.Z),yield this.collection.processNodesAsync(this.childNodes)})}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});var t;return __awaiter(this,void 0,void 0,function*(){return null!==(t=this.oldLocalContext)&&void 0!==t&&t.dispose(),yield null===(t=this.collection)||void 0===t?void 0:t.disposeAsync(),null!==(t=this.currentDC)&&void 0!==t&&t.clearInstances(),e.disposeAsync.call(this)})}};GroupComponent=__decorate([(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.b2)(),__param(0,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("element")),__param(1,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("context")),__param(2,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("container")),__metadata("design:paramtypes",[Element,Object,Object])],GroupComponent);const __WEBPACK_DEFAULT_EXPORT__=GroupComponent},242:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tsyringe__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195),_enum__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(397),_CommandComponent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(210),__decorate=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=function(n,r){return function(e,t){r(e,t,n)}},__awaiter=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};let CallbackComponent=class CallbackComponent extends _CommandComponent__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(e,t){super(e,t),this.priority=_enum__WEBPACK_IMPORTED_MODULE_1__.UL.none,this.allowMultiProcess=!0,this.methodToken=this.getAttributeToken("method")}runAsync(source){return __awaiter(this,void 0,void 0,function*(){let retVal=!0,callbackFunction=null;if(this.methodToken){const methodName=yield this.methodToken.getValueAsync(),method=eval(methodName);callbackFunction=e=>{e=this.createCallbackArgument({source:e});try{Reflect.apply(method,null,[e])}catch(e){this.context.logger.logError(`error in execute callback method '${methodName}'.`,e),retVal=e}}}else callbackFunction=e=>{this.context.logger.logSource(e)};return source?callbackFunction(source):this.triggers.forEach(e=>{e=this.context.tryToGetSource(e);e&&callbackFunction(e)}),retVal})}};CallbackComponent=__decorate([(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.b2)(),__param(0,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("element")),__param(1,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("context")),__metadata("design:paramtypes",[Element,Object])],CallbackComponent);const __WEBPACK_DEFAULT_EXPORT__=CallbackComponent},294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(919),o=n(877),i=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class s{constructor(e,t,n){this.repository=e,this.logger=n,this.options=t,this.onDataSourceSet=new r.Z}checkSourceHeartbeatAsync(e){throw new Error("Method not implemented.")}onDataSourceSetHandler(e){var t=this.repository.resolves.get(e.id);t&&(t.Trigger(e),this.repository.resolves.delete(e.id)),this.onDataSourceSet.Trigger(e)}addOnSourceSetHandler(e,t){this.repository.addHandler(e,t)}removeOnSourceSetHandler(e,t){this.repository.removeHandler(e,t)}tryToGetSource(e){return this.repository.tryToGet(e)}waitToGetSourceAsync(e){return i(this,void 0,void 0,function*(){return this.tryToGetSource(e)||(yield this.repository.waitToGetAsync(e))})}setAsSource(e,t,n,r){n=new o.Z(e,t,n);this.setSource(n,r)}setSource(e,t){t=this.repository.setSource(e,t);this.onDataSourceSetHandler(t)}setSourceFromOwner(e){this.repository.setSourceFromOwner(e),this.onDataSourceSetHandler(e)}dispose(){}}},523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(195),o=n(818),i=n(294),s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},t=function(n,r){return function(e,t){r(e,t,n)}},n=class extends n(887).Z{constructor(e,t,n){super(e,n,t.logger),this.owner=t,this.handler=this.owner.onDataSourceSet.Add(this.setSourceFromOwner.bind(this))}tryToGetSource(e){var t;return null!==(t=super.tryToGetSource(e))&&void 0!==t?t:this.owner.tryToGetSource(e)}dispose(){this.owner.onDataSourceSet.Remove(this.handler)}};const c=n=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,r.b2)(),t(0,(0,r.f3)("IContextRepository")),t(1,(0,r.f3)("OwnerContext")),s("design:paramtypes",[Object,i.Z,o.G])],n)},887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n(479),r=n(441);class i{constructor(e){this.Name=e}ParseJsonString(t){try{var e=JSON.parse(t);return this.ConvertObject(e)}catch(e){throw new o.Z(`Invalid Json Format:${t}.${e}`)}}ConvertObject(n){var r=new s;try{r.Setting=n._}catch(e){}return Object.getOwnPropertyNames(n).forEach(e=>{var t,o,i;"_"!==e&&(t=n[e],o=t.shift(),i=new Array,t.forEach(n=>{var r={};o.forEach((e,t)=>{r[e]=n[t]}),i.push(r)}),r.Tables.push(new c(e,i)))}),r}}class s{constructor(){this.Tables=[]}}class c{constructor(e,t){this.Key=e,this.Value=t}}var y=n(231),a=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class u extends i{constructor(e,t,n){if(super(e),this.context=n,"string"==typeof t){n=t.split("|");if(this.Url=n[0],2!=n.length)throw new o.Z(`For Local Storage Connection '${e}', Setting In Not Valid`);this.FunctionName=n[1]}else this.Url=t.Url,this.FunctionName=t.Function;this.Function=null}LoadLibAsync(){return a(this,void 0,void 0,function*(){this.Function||(this.Function=yield $bc.util.getLibAsync(this.FunctionName,this.Url))})}TestConnectionAsync(e){return a(this,void 0,void 0,function*(){return yield this.LoadLibAsync(),null!==this.FunctionName})}loadDataAsync(e,t,n,r){return a(this,void 0,void 0,function*(){yield this.LoadLibAsync();var e=yield this.Function(n),e=this.ConvertObject(e);r(e.Tables.map(e=>new y.Z(e.Key,e.Value)))})}loadPageAsync(e,t,n){throw new o.Z("LoadPageAsync Method not Supported In LocalStorage Provider.")}}class l extends i{constructor(e,t){super(e),"string"==typeof t?this.Url=t:(this.Url=t.Url,this.Heartbeat=t.Heartbeat,this.Verb=t.Verb,this.HeartbeatVerb=t.HeartbeatVerb)}}class d extends l{constructor(e,t){super(e,t)}TestConnectionAsync(e){throw new Error("Method not implemented.")}loadDataAsync(e,t,n,r){throw new Error("Method not implemented.")}loadPageAsync(e,t,n,r){throw new o.Z("LoadPageAsync Method not Supported In REST API Provider.")}}var f=n(102),h=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class p extends l{constructor(e,t){super(e,t)}TestConnectionAsync(e){var n;return h(this,void 0,void 0,function*(){var t;if(f.Z.HasValue(this.Heartbeat))try{yield p.ajax(this.Heartbeat,null!==(n=this.HeartbeatVerb)&&void 0!==n?n:e.options.getDefault("source.heartbeatVerb")),t=!0}catch(e){t=!1}else t=!0;return t})}loadDataAsync(n,e,r,o){var i;return h(this,void 0,void 0,function*(){var e=yield p.ajax(this.Url,null!==(i=this.Verb)&&void 0!==i?i:n.options.getDefault("source.verb"),r);const t=JSON.parse(e);o(t.sources.map(e=>new y.Z(e.options.tableName,e.data,e.options)))})}loadPageAsync(e,t,n,r){var o;return h(this,void 0,void 0,function*(){return yield p.ajax(`${this.Url}${t}`,null!==(o=null!=r?r:this.Verb)&&void 0!==o?o:e.options.getDefault("call.verb"),n)})}static ajax(e,i,s=null){return new Promise((t,n)=>{var r,o=new XMLHttpRequest;o.withCredentials=!1,o.open(i,e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onload=function(e){4===o.readyState&&(200===o.status?t(o.responseText):n(o.statusText))},o.onerror=function(e){n(o.statusText)},f.Z.HasValue(s)&&(r=[],Object.getOwnPropertyNames(s).forEach((e,t,n)=>r.push(encodeURIComponent(e)+"="+encodeURIComponent(s[e]))),r=r.join("&").replace(/%20/g,"+")),o.send(r)})}}var _=n(314);class v extends i{constructor(e,t){super(e),this.activeSockets=new Map,this.maxRetry=5,this.url="string"==typeof t?t:t.Connection}loadDataAsync(a,u,l,d){const f=this.url,h=this.maxRetry,p=this.activeSockets,e=p.get(u);return e&&(e.close(),a.logger.logInformation("Disconnect from %s by client request",f),p.delete(u)),new _.Z((i,s)=>{let c=0;!function t(n){c++;const r=new WebSocket(f);let o=null;r.onopen=e=>{p.set(u,r),console.log("%s %s",f,n?"Reconnected":"Connected"),r.send(JSON.stringify(l))},r.onclose=e=>{p.delete(u),null!=o?(a.logger.logInformation("Try reconnect To %s",f),c<h?(t(!0),o=null):s(o)):(i(),a.logger.logInformation(`${f} Disconnected`))},r.onerror=e=>{a.logger.logError(`Error On '${f}'`,e),o=e},r.onmessage=e=>{try{var t,n=JSON.parse(e.data);n.setting&&void 0!==n.setting.keepalive&&!n.setting.keepalive&&(a.logger.logInformation("Disconnect from %s by server request",f),r.close()),!n.sources||0<(t=null==n?void 0:n.sources.map(e=>new y.Z(e.options.tableName,e.data,e.options))).length&&(d(t)||(a.logger.logInformation("Disconnect from %s by receiver request. maybe disposed!",f),r.close()))}catch(e){a.logger.logError("Error in process WebSocket received message",e)}}}(!1)})}TestConnectionAsync(e){return Promise.resolve(!0)}loadPageAsync(e,t,n){throw new Error("WebSocket call not implemented.")}}class g{constructor(r,n){this.connections=new Map,Object.getOwnPropertyNames(r).map(e=>{var t,n=e.split(".",3);return{type:null===(t=n[0])||void 0===t?void 0:t.trim().toLowerCase(),provider:null===(t=n[1])||void 0===t?void 0:t.trim().toLowerCase(),name:n[2],value:r[e]}}).filter(e=>e.type.isEqual("connection")).forEach(e=>{var t;switch(e.provider){case"web":t=new p(e.name,e.value);break;case"websocket":t=new v(e.name,e.value);break;case"local":t=new u(e.name,e.value,n);break;case"rest":t=new d(e.name,e.value)}this.connections.set(t.Name,t)})}getConnection(e){var t=this.connections.get(e);if(!t)throw new r.Z("host.settings",e);return t}}var n=n(294),m=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class b extends n.Z{constructor(e,t,n){super(e,t,n),this.loadLibDic={},this.connections=new g(t.settings,this),this.addHostOptionsSource()}loadPageAsync(e,t,n){return this.connections.getConnection("callcommand").loadPageAsync(this,e,t,n)}loadDataAsync(e,t,n,r){let o=this.connections.getConnection(t);return o.loadDataAsync(this,e,n,r)}getOrLoadDbLibAsync(){return m(this,void 0,void 0,function*(){let e;if("undefined"==typeof alasql){if(f.Z.IsNullOrEmpty(this.options.dbLibPath))throw new o.Z("Error in load 'alasql'. 'DbLibPath' not configure properly in host object.");e=yield $bc.util.getLibAsync("alasql",this.options.dbLibPath)}else e=alasql;return e})}addHostOptionsSource(){this.options.sources&&Object.getOwnPropertyNames(this.options.sources).forEach(e=>{var t=this.options.sources[e];t instanceof Array?this.setAsSource(e.toLowerCase(),t):this.setAsSource(e.toLowerCase(),t.data,t.options)})}}},231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e,t,n){this.id=e,this.options=n,Array.isArray(t)?this.rows=t:this.rows="object"==typeof t?[t]:[{value:t}]}}},877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(397);class o{constructor(e,t,n){this._id=e.toLowerCase(),this.mergeType=null!==(e=null==n?void 0:n.mergeType)&&void 0!==e?e:r.dx.replace,this.keyFieldName=null==n?void 0:n.keyFieldName,this.statusFieldName=null==n?void 0:n.statusFieldName,this.extra=null==n?void 0:n.extra,Array.isArray(t)?this._rows=t:this._rows="object"==typeof t?[t]:[{value:t}],this._versions=Array(this._rows.length).fill(0)}get id(){return this._id}get rows(){return this._rows}get versions(){return this._versions}cloneOptions(){return{keyFieldName:this.keyFieldName,mergeType:this.mergeType,statusFieldName:this.statusFieldName,extra:this.extra}}removeRowFormIndex(e){this._rows.splice(e,1),this._versions.splice(e,1)}replaceRowFromIndex(e,t){this._rows.splice(e,1,t),this._versions[e]+=1}addRow(e){this._rows.push(e),this._versions.push(0)}addRows(e){this.rows.splice(this.rows.length,e.length,...e),this._versions.splice(this.rows.length,e.length,...Array(e.length))}getVersion(e){e=this._rows.indexOf(e);return-1!=e?this._versions[e]:0}replace(e){var t=this._rows.length,n=e.rows.length;this._rows.splice(0,t,...e.rows),n<t?this._versions.splice(n,t-n):t<n&&this._versions.splice(n,0,...Array(n-t).fill(-1)),this._versions.forEach((e,t,n)=>n[t]=++e),this.mergeType=null!==(t=e.mergeType)&&void 0!==t?t:r.dx.replace,this.keyFieldName=e.keyFieldName,this.statusFieldName=e.statusFieldName,this.extra=e.extra}}},397:(e,t,n)=>{"use strict";var r,o,i,s;n.d(t,{A$:()=>r,dx:()=>o,UL:()=>i,rq:()=>s}),(t=r=r||{})[t.NotSet=0]="NotSet",t[t.Odd=1]="Odd",t[t.Even=2]="Even",(t=o=o||{})[t.replace=0]="replace",t[t.append=1]="append",(t={})[t.innerjoin=0]="innerjoin",t[t.leftjoin=1]="leftjoin",t[t.rightjoin=2]="rightjoin",(t=i=i||{})[t.high=0]="high",t[t.normal=1]="normal",t[t.low=2]="low",t[t.none=3]="none",(t=s=s||{})[t.added=0]="added",t[t.edited=1]="edited",t[t.deleted=2]="deleted"},919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(){this.handlers=new Set}Add(e){let t=null;return this.handlers.has(e)||(this.handlers.add(e),t=e),t}Remove(e){let t=null;return this.handlers.has(e)&&(this.handlers.delete(e),t=e),t}Trigger(t){this.handlers.forEach(e=>{try{e(t)}catch(e){console.error(e)}})}}},479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r extends Error{constructor(e){super(e)}}},441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r extends n(479).Z{constructor(e,t){super(`In '${e}' object, property '${t}' not configured!`)}}},570:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _exception_ClientException__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(479),_token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(157),_Util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(102);Object.defineProperty(String.prototype,"Evaluating",{value:function Evaluating(){var _a;try{return _Util__WEBPACK_IMPORTED_MODULE_2__.Z.isEqual(null===(_a=eval(this.toString()))||void 0===_a?void 0:_a.toString(),"true")}catch(er){throw new _exception_ClientException__WEBPACK_IMPORTED_MODULE_0__.Z(`Error In Evaluating '${this.toString()}': ${er}`)}},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToObjectToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToObjectToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToStringToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToStringToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToIntegerToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToIntegerToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToBooleanToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToBooleanToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"isEqual",{value:function(e){return 0==this.toString().localeCompare(null!=e?e:"",void 0,{sensitivity:"accent"})},writable:!0,configurable:!0})},818:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r,o=n(195),i=n(441),s=n(102),c=n(98),a=n.n(c),t=n(465),u=n.n(t),c=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s},n=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},t=function(n,r){return function(e,t){r(e,t,n)}};let l=r=class{constructor(e){var t=u()(e);e!==r.defaultSettings?(e=a()(u()(e),r.defaultSettings),Object.assign(this,e)):Object.assign(this,u()(e)),this.originalOptions=t}static get defaultSettings(){if(!r._defaultSettings){let e={debug:!1,autoRender:!0,serviceWorker:!1,dbLibPath:"/alasql.min.js",settings:{"default.binding.regex":/\[##([^#]*)##\]/,"default.binding.codeblock-regex":/{{((?:[^{}][{}]?)*)}}/,"default.binding.face-regex":/([^@]|^)@(?:([^@\s]+)@|([^@\s]+))/,"default.call.verb":"POST","default.dmnid":"","default.source.verb":"POST","default.ViewCommand.GroupColumn":"prpid","default.source.heartbeatVerb":"GET"},repositories:{}};"undefined"!=typeof host&&(e=a()(u()(host),e)),r._defaultSettings=e}return r._defaultSettings}getDefault(e,t=null){return this.getSetting(`default.${e}`,t)}getSetting(t,e){var n=Object.getOwnPropertyNames(this.settings).filter(e=>s.Z.isEqual(e,t)),n=1==n.length?this.settings[n[0]]:null;if(!n){if(void 0===e)throw new i.Z("host.settings",t);n=e}return n}};l=r=c([(0,o.b2)(),t(0,(0,o.f3)("IHostOptions")),n("design:paramtypes",[Object])],l)},314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r extends Promise{}},827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(222),o=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class i{constructor(e,t){this.context=t,e=e.replaceAll("&quot;",'"'),this.fn=new r.s("$bc","$data",`try{
        ${e}
      }catch(e){
        console.error(e);
        return e;
      }`);e=e.matchAll(/\$bc\.(?:waitToGetSourceAsync|tryToGetSource)\('(.*)'\)/g);if(e){this.sourceNames=new Array;for(const n of e)this.sourceNames.push(n[1])}}getValueAsync(e){var t;return o(this,void 0,void 0,function*(){return null!==(t=yield this.fn(this.context))&&void 0!==t?t:""})}executeAsync(e){var t;return o(this,void 0,void 0,function*(){return null!==(t=yield this.fn(this.context,e))&&void 0!==t?t:""})}getSourceNames(){return this.sourceNames}getDefault(){return""}}},157:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n(102),u=n(827),r=n(629),t=n(421);class i extends t.Z{constructor(e,t){super(e,t)}static tryParse(e){return null==e?null:"true"===e.toLowerCase()}tryParse(e){return i.tryParse(e)}}class s extends r.Z{constructor(e,...t){super(e,...t)}tryParse(e){return i.tryParse(e)}}class c{constructor(e,t){this.context=t,this.value=e}getDefault(){return this.value}getSourceNames(){return new Array}getValueAsync(e=0){return new Promise(e=>e(this.value))}}class a extends c{constructor(e,t){super(e,t)}}class l extends r.Z{constructor(e,...t){super(e,...t)}tryParse(e){let t=0;try{t=parseInt(e)}catch(e){}return t}}class d extends t.Z{constructor(e,t){super(e,t)}tryParse(e){let t=0;try{t=parseInt(e)}catch(e){}return t}}class f extends c{constructor(e,t){super(e,t)}}class h extends r.Z{constructor(e,...t){super(e,...t)}tryParse(e){return e}}class p extends t.Z{constructor(e,t){super(e,t)}tryParse(e){return e}}class y extends c{constructor(e,t){super(e,t)}}var _=n(69),v=n(800);class g extends c{constructor(e,t){super(e,t)}}var m=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class b{static ToObjectToken(e,t){return b.ToToken(e,t,e=>new g(e,t),e=>new v.Z(e,t),(...e)=>new _.Z(t,...e))}static ToStringToken(e,t){return b.ToToken(e,t,e=>new y(e,t),e=>new p(e,t),(...e)=>new h(t,...e))}static ToIntegerToken(e,t){return b.ToToken(e,t,e=>new f(parseInt(e),t),e=>new d(e,t),(...e)=>new l(t,...e))}static ToBooleanToken(e,t){return b.ToToken(e,t,e=>new a(o.Z.isEqual(e,"true"),t),e=>new i(e,t),(...e)=>new s(t,...e))}static ToToken(t,n,r,o,e){var i;if(t){var s=n.options.getDefault("binding.regex"),c=n.options.getDefault("binding.codeblock-regex"),a=new Array;do{let e=t.match(s);if(e)0!=e.index&&a.push(r(t.substring(0,e.index))),a.push(o(e[1])),t=t.substring(e.index+e[0].length);else{if(e=t.match(c),!e){a.push(r(t));break}0!=e.index&&a.push(r(t.substring(0,e.index))),a.push(new u.Z(e[1],n)),t=t.substring(e.index+e[0].length)}}while(0<t.length);i=1==a.length?a[0]:e(...a)}return i}static GetValueOrSystemDefaultAsync(t,n,r){return m(this,void 0,void 0,function*(){var e=o.Z.HasValue(t)?yield t.getValueAsync():n.options.getDefault(r);return e})}}},629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class o extends Array{constructor(e,...t){super(...t),this.context=e}getDefault(){var e=this.reduce((e,t)=>{return e+(null!==(t=t.getDefault())&&void 0!==t?t:"")},"");return this.tryParse(e)}getSourceNames(){return this.reduce((e,t)=>e.concat(t.getSourceNames()),new Array)}getValueAsync(n=!0){return r(this,void 0,void 0,function*(){var t=new Array;this.forEach(e=>t.push(e.getValueAsync(n)));var e=yield Promise.all(t);return this.tryParse(e.join(""))})}}},421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});class c{constructor(e,t){this.source=e[0].toLowerCase(),this.member=e[1].toLowerCase(),this.column=2<e.length?e.slice(2).join("."):null,this.expression=t,this.extractValue=new Function("source",`let retVal = null;
      if (source.rows.length == 1) {
        try{
        retVal = source.rows[0].${this.column};
        }catch(e){
          try{
            retVal = source.rows[0]['${this.column}'];
          }catch{
            throw e;
          }
        }
      } else if (source.rows.length > 1) {
        retVal = source.rows
              .map((row) => row.${this.column});
      }
      return retVal;`)}get sourceName(){return`${this.source}.${this.member}`}}class a{constructor(e){this.value=e}}var r=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class o{constructor(e,t){this.context=t,this.parts=e.split("|").map(e=>{var t=e.split("."),n=t[0].match(/^\s*\((.*)\)\s*$/);return n?new a(this.tryParse(n[1])):new c(t,e)})}getDefault(){var e;return null!==(e=null===(e=this.parts.filter(e=>e instanceof a)[0])||void 0===e?void 0:e.value)&&void 0!==e?e:null}getSourceNames(){return this.parts.filter(e=>e instanceof c).map(e=>e.sourceName)}getValueAsync(s=!0){return r(this,void 0,void 0,function*(){for(var t=null,n=0;n<this.parts.length;n++){var r=this.parts[n];if(r instanceof a)t=r.value;else if(r instanceof c){if(!r.member){const e=yield this.context.checkSourceHeartbeatAsync(r.source);t=this.tryParse(e.toString());break}var o=r.sourceName,i=this.context.tryToGetSource(o);if(!r.column){t=this.tryParse(i?"true":"false");break}{if(null==i){if(n+1!=this.parts.length)continue;if("cms"===r.source)break;if(!s)break;i=yield this.context.waitToGetSourceAsync(o)}let e=null;try{e=r.extractValue(i)}catch(e){}if(null!=e&&""!==e){t=e;break}}}}return t})}}},69:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ObjectArray});var _base_ArrayToken__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(629);class ObjectArray extends _base_ArrayToken__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(e,...t){super(e,...t)}tryParse(value){return eval(value)}}},800:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ObjectObject});var _base_ObjectToken__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(421);class ObjectObject extends _base_ObjectToken__WEBPACK_IMPORTED_MODULE_0__.Z{constructor(e,t){super(e,t)}tryParse(value){return eval(value)}}},222:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>AsyncFunction});const AsyncFunction=eval("Object.getPrototypeOf(async function () {}).constructor")},361:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r=n(231),o=n(877),i=n(102),s=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class c{new(e,t,n){return new o.Z(e,t,n)}sortAsync(t,n,r){return s(this,void 0,void 0,function*(){const e=yield r.getOrLoadDbLibAsync();return new o.Z(t.id,e(`SELECT * FROM ? order by ${n}`,[t.rows]),t.cloneOptions())})}filterAsync(e,t,n){return s(this,void 0,void 0,function*(){return this.isNullOrEmpty(t)?e.rows:(yield n.getOrLoadDbLibAsync())(`SELECT * FROM ? [${e.id}] where ${t}`,[e.rows])})}isNullOrEmpty(e){return void 0===e||null==e||""===e}runSqlAsync(t,n,r){return s(this,void 0,void 0,function*(){const e=yield r.getOrLoadDbLibAsync();return new o.Z(t.id,e(i.Z.ReplaceEx(n,`\\[${t.id}\\]`,"?"),[t.rows]),t.cloneOptions())})}data(e,t,n){return new r.Z(e,t,n)}}},835:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>UtilWrapper});var lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(465),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0__),_SourceWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(361),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2__),_exception_ClientException__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(479),__awaiter=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class UtilWrapper{constructor(){this.source=new _SourceWrapper__WEBPACK_IMPORTED_MODULE_1__.Q,this.parser=new DOMParser}getRandomName(e,t){return`${null!=e?e:""}_${(new Date).getTime()}_${Math.random().toString(36).substring(2)}_${null!=t?t:""}`}storeAsGlobal(e,t,n,r){return t=t||this.getRandomName(n,r),Reflect.set(window,t,e),t}cloneDeep(e){return lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0___default()(e)}getLibAsync(objectName,url){let retVal=null,type="undefined";try{type=eval(`typeof(${objectName})`)}catch(e){}return"undefined"!==type?Promise.resolve(eval(objectName)):(retVal=new Promise((resolve,reject)=>{let script=document.querySelector(`script[src='${url}']`);script||(script=document.createElement("script"),script.setAttribute("type","text/javascript"),script.setAttribute("src",url),document.getElementsByTagName("head")[0].appendChild(script));const loadListener=_=>{script.removeEventListener("load",loadListener),script.removeEventListener("error",errorListener),console.log("%s loaded from %s",objectName,url),resolve(eval(objectName))},errorListener=e=>{script.removeEventListener("load",loadListener),script.removeEventListener("error",errorListener),reject(e)};script.addEventListener("load",loadListener),script.addEventListener("error",errorListener)}),retVal)}defaultsDeep(e,t){return lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2___default()(this.cloneDeep(e),t)}toNode(e){return document.createRange().createContextualFragment(e)}toHTMLElement(e){e=this.parser.parseFromString(e,"application/xml");const o=t=>{const n=document.createElement(t.tagName);if(t.attributes)for(let e=0;e<t.attributes.length;e++){var r=t.attributes[e];n.setAttribute(r.name,r.value)}return t.childNodes.forEach(e=>{var t=e;t.nodeType===Node.TEXT_NODE?0<(e=e.nodeValue.trim()).length&&n.appendChild(document.createTextNode(e)):n.appendChild(o(t))}),n};return"parsererror"===e.documentElement.tagName?e.documentElement:o(e.documentElement)}getComponentAsync(context,key){return __awaiter(this,void 0,void 0,function*(){let retVal;if(key)if(0==key.indexOf("local.")){const lib=key.slice(key.indexOf(".")+1);retVal=eval(lib),console.log("%s loaded from local",lib)}else{let tmpKey=key;for(;;){const url=context.options.repositories[tmpKey];if(url){retVal=yield this.getLibAsync(key,url);break}{const lastDotIndex=tmpKey.lastIndexOf(".");if(-1==lastDotIndex)break;tmpKey=tmpKey.slice(0,lastDotIndex)}}}if(retVal)return retVal;throw new _exception_ClientException__WEBPACK_IMPORTED_MODULE_3__.Z(`'${key}' related repository setting not found`)})}format(e,...n){return e.replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})}}},195:(e,t,n)=>{"use strict";n.d(t,{nC:()=>D,f3:()=>M,b2:()=>N,ri:()=>I}),(t=m=m||{})[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped";const a=m;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function c(e){return!!e.useClass}function f(e){return!!e.useFactory}var i=(s.prototype.createProxy=function(e){var t,n=this,r=!1;return new Proxy({},this.createHandler(function(){return r||(t=e(n.wrap()),r=!0),t}))},s.prototype.createHandler=function(r){var e={};return this.reflectMethods.forEach(function(n){e[n]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[0]=r(),Reflect[n].apply(void 0,d(e))}}),e},s);function s(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}function h(e){return"string"==typeof e||"symbol"==typeof e}function p(e){return"object"==typeof e&&"token"in e&&"transform"in e}function y(e){return!!e.useToken}function _(e){return null!=e.useValue}function v(){this._registryMap=new Map}var g,m=(v.prototype.entries=function(){return this._registryMap.entries()},v.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},v.prototype.get=function(e){this.ensure(e);e=this._registryMap.get(e);return e[e.length-1]||null},v.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},v.prototype.setAll=function(e,t){this._registryMap.set(e,t)},v.prototype.has=function(e){return this.ensure(e),0<this._registryMap.get(e).length},v.prototype.clear=function(){this._registryMap.clear()},v.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},v);function b(){return null!==g&&g.apply(this,arguments)||this}const w=(o(b,g=m),b),A=function(){this.scopedResolutions=new Map};function x(e,t,n){var r,o=l(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],t=(t=t,null===(o=void 0===o?null:o)?"at position #"+t:'"'+o.split(",")[t].trim()+'" at position #'+t);return e="Cannot inject the dependency "+t+' of "'+e.name+'" constructor. Reason:',void 0===r&&(r="    "),d([e],n.message.split("\n").map(function(e){return r+e})).join("\n")}var O,T=(o(k,O=m),k);function k(){return null!==O&&O.apply(this,arguments)||this}var E,R=(o(j,E=m),j);function j(){return null!==E&&E.apply(this,arguments)||this}const C=function(){this.preResolution=new T,this.postResolution=new R};var P=new Map;function S(e){this.parent=e,this._registry=new w,this.interceptors=new C}var D=new(S.prototype.register=function(e,t,n){var r;if(void 0===n&&(n={lifecycle:a.Transient}),t=c(r=t)||_(r)||y(r)||f(r)?t:{useClass:t},y(t))for(var o=[e],i=t;null!=i;){var s=i.useToken;if(o.includes(s))throw new Error("Token registration cycle detected! "+d(o,[s]).join(" -> "));o.push(s);s=this._registry.get(s),i=s&&y(s.provider)?s.provider:null}if((n.lifecycle===a.Singleton||n.lifecycle==a.ContainerScoped||n.lifecycle==a.ResolutionScoped)&&(_(t)||f(t)))throw new Error('Cannot use lifecycle "'+a[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:t,options:n}),this},S.prototype.registerType=function(e,t){return h(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},S.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},S.prototype.registerSingleton=function(e,t){if(h(e)){if(h(t))return this.register(e,{useToken:t},{lifecycle:a.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:a.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return t&&!h(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:a.Singleton})},S.prototype.resolve=function(e,t){void 0===t&&(t=new A);var n=this.getRegistration(e);if(!n&&h(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),n){var r=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}if("function"==typeof(n=e)||n instanceof i){r=this.construct(e,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},S.prototype.executePreResolutionInterceptor=function(e,t){var n,r;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var i=u(this.interceptors.preResolution.getAll(e)),s=i.next();!s.done;s=i.next()){var c=s.value;"Once"!=c.options.frequency&&o.push(c),c.callback(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},S.prototype.executePostResolutionInterceptor=function(e,t,n){var r,o;if(this.interceptors.postResolution.has(e)){var i=[];try{for(var s=u(this.interceptors.postResolution.getAll(e)),c=s.next();!c.done;c=s.next()){var a=c.value;"Once"!=a.options.frequency&&i.push(a),a.callback(e,t,n)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,i)}},S.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===a.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var n=e.options.lifecycle===a.Singleton,r=e.options.lifecycle===a.ContainerScoped,r=n||r,r=_(e.provider)?e.provider.useValue:y(e.provider)?r?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):c(e.provider)?r?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):f(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t);return e.options.lifecycle===a.ResolutionScoped&&t.scopedResolutions.set(e,r),r},S.prototype.resolveAll=function(e,t){var n=this;void 0===t&&(t=new A);var r=this.getAllRegistrations(e);if(!r&&h(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),r){var o=r.map(function(e){return n.resolveRegistration(e,t)});return this.executePostResolutionInterceptor(e,o,"All"),o}o=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,o,"All"),o},S.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},S.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},S.prototype.clearInstances=function(){var t,e;try{for(var n=u(this._registry.entries()),r=n.next();!r.done;r=n.next()){var o=l(r.value,2),i=o[0],s=o[1];this._registry.setAll(i,s.filter(function(e){return!_(e.provider)}).map(function(e){return e.instance=void 0,e}))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},S.prototype.createChildContainer=function(){var t,e,n=new S(this);try{for(var r=u(this._registry.entries()),o=r.next();!o.done;o=r.next()){var i=l(o.value,2),s=i[0],c=i[1];c.some(function(e){return e.options.lifecycle===a.ContainerScoped})&&n._registry.setAll(s,c.map(function(e){return e.options.lifecycle===a.ContainerScoped?{provider:e.provider,options:e.options}:e}))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},S.prototype.beforeResolution=function(e,t,n){this.interceptors.preResolution.set(e,{callback:t,options:n=void 0===n?{frequency:"Always"}:n})},S.prototype.afterResolution=function(e,t,n){this.interceptors.postResolution.set(e,{callback:t,options:n=void 0===n?{frequency:"Always"}:n})},S.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},S.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},S.prototype.construct=function(e,t){var n=this;if(e instanceof i)return e.createProxy(function(e){return n.resolve(e,t)});var r=P.get(e);if(!r||0===r.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}r=r.map(this.resolveParams(t,e));return new(e.bind.apply(e,d([void 0],r)))},S.prototype.resolveParams=function(s,c){var a=this;return function(e,t){var n,r,o,i;try{return"object"==typeof(i=e)&&"token"in i&&"multiple"in i?p(e)?e.multiple?(n=a.resolve(e.transform)).transform.apply(n,d([a.resolveAll(e.token)],e.transformArgs)):(r=a.resolve(e.transform)).transform.apply(r,d([a.resolve(e.token,s)],e.transformArgs)):e.multiple?a.resolveAll(e.token):a.resolve(e.token,s):p(e)?(o=a.resolve(e.transform,s)).transform.apply(o,d([a.resolve(e.token,s)],e.transformArgs)):a.resolve(e,s)}catch(e){throw new Error(x(c,t,e))}}},S);var L="injectionTokens";const M=function(e){return o=e,function(e,t,n){var r=Reflect.getOwnMetadata(L,e)||{};r[n]=i?{token:o,transform:i.transformToken,transformArgs:i.args||[]}:o,Reflect.defineMetadata(L,r,e)};var o,i};const N=function(){return function(e){var t,n;P.set(e,(e=e,t=Reflect.getMetadata("design:paramtypes",e)||[],n=Reflect.getOwnMetadata(L,e)||{},Object.keys(n).forEach(function(e){t[+e]=n[e]}),t))}};const I=function(){return function(e){N()(e),D.registerSingleton(e)}};if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";__webpack_require__(660);var n=__webpack_require__(195),l=__webpack_require__(884),t=__webpack_require__(818),e=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(n,r){return function(e,t){r(e,t,n)}},o=class extends __webpack_require__(887).Z{constructor(e,t,n,r){super(e,r,t),n.register("HostOptions",{useValue:r});r=window.location.search.substring(1);this.addQueryString(r),this.addRequestRelatedSources()}addQueryString(e){0<e.length&&(e=e.split("&").map(e=>e.split("=")).reduce((e,t)=>{return e[t[0]]=decodeURIComponent(null!==(t=t[1])&&void 0!==t?t:""),e},{}),this.setAsSource("cms.query",e))}addRequestRelatedSources(){if(document.cookie){const c=document.cookie.split(";").map(e=>e.split("="));var e=c.reduce((e,t)=>(e[t[0]]=t[1],e),{});this.setAsSource("cms.cookie",e)}var t={requestId:-1,hostip:window.location.hostname,hostport:window.location.port};this.setAsSource("cms.request",t);var n=e=>("0"+e).slice(-2);const r=new Date;var o=r.getFullYear(),i=n(r.getMonth()),s=n(r.getDay()),e=n(r.getHours()),t=n(r.getMinutes()),n=n(r.getSeconds());this.setAsSource("cms.cms",{date:`${o}/${i}/${s}`,time:`${e}:${t}`,date2:`${o}${i}${s}`,time2:`${e}${t}${n}`,date3:`${o}.${i}.${s}`})}},i=o=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),r(0,(0,n.f3)("IContextRepository")),r(1,(0,n.f3)("ILogger")),r(2,(0,n.f3)("container")),e("design:paramtypes",[Object,Object,Object,t.G])],o),s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(n,r){return function(e,t){r(e,t,n)}},a=class{constructor(e,t,n){this.context=e,t.register("root.context",{useValue:e}),t.register("context",{useToken:"root.context"}),this.content=t.resolve(l.Z),this.content.processNodesAsync(n)}setSource(t,n,r){this.content.initializeTask.then(e=>{this.context.setAsSource(t,n,r)})}},u=a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),c(1,(0,n.f3)("container")),c(2,(0,n.f3)("root.nodes")),s("design:paramtypes",[i,Object,Array])],a),d=__webpack_require__(397),f=__webpack_require__(210),h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(n,r){return function(e,t){r(e,t,n)}},y=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},_=class extends f.Z{constructor(e,t,n){super(e,t),this.defaultAttributeNames=["core","run","file","method"],this.priority=d.UL.high,this.container=n}runAsync(){return y(this,void 0,void 0,function*(){var e=yield this.getAttributeValueAsync("file"),t=yield this.getAttributeValueAsync("pagesize"),n=yield this.node.outerHTML.ToStringToken(this.context).getValueAsync();const r=yield this.getAttributeValueAsync("method");var o=(null!==r&&void 0!==r?r:this.context.options.getDefault("call.verb")).toUpperCase();let i=null;if("POST"===o){i={};for(let e=0;e<this.node.attributes.length;e++){const c=this.node.attributes[e];var s=c.name.toLowerCase();-1==this.defaultAttributeNames.indexOf(s)&&(i[s]=yield this.getAttributeValueAsync(c.name))}}else i={fileNames:e,dmnid:this.context.options.getDefault("dmnid"),siteSize:t,command:n};e=yield this.context.loadPageAsync(e,i,o),o=$bc.util.toNode(e),e=[...o.childNodes];this.range.setContent(o),this.collection=this.container.resolve(l.Z),yield this.collection.processNodesAsync(e)})}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});var t;return y(this,void 0,void 0,function*(){return yield null===(t=this.collection)||void 0===t?void 0:t.disposeAsync(),e.disposeAsync.call(this)})}},v=_=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),p(0,(0,n.f3)("element")),p(1,(0,n.f3)("context")),p(2,(0,n.f3)("container")),h("design:paramtypes",[Element,Object,Object])],_),g=__webpack_require__(26),m=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class b extends f.Z{constructor(e,t){super(e,t)}processAsync(){const e=Object.create(null,{processAsync:{get:()=>super.processAsync}});var t;return m(this,void 0,void 0,function*(){this.sourceId=null===(t=yield this.getAttributeValueAsync("dataMemberName"))||void 0===t?void 0:t.toLowerCase(),this.addTrigger([this.sourceId]),yield e.processAsync.call(this)})}runAsync(n){return m(this,void 0,void 0,function*(){let e=null;var t;return(n=(null==n?void 0:n.id)!==this.sourceId?this.context.tryToGetSource(this.sourceId):n)&&(this.onProcessingAsync&&(t=this.createCallbackArgument({source:n}),yield this.onProcessingAsync(t),n=t.source),e=yield this.renderSourceAsync(n)),e})}}var w=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=function(n,r){return function(e,t){r(e,t,n)}},x=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},O=class extends b{constructor(e,t,n){super(e,t),this.oldChildContexts=new Array,this.collections=new Array,this.container=n}renderSourceAsync(u){return x(this,void 0,void 0,function*(){var t=yield this.getAttributeValueAsync("name");(yield this.getAttributeBooleanValueAsync("replace",!0))&&(this.range.deleteContents(),yield this.disposeExistingObjectAsync());for(let e=0;e<u.rows.length;e++){var n=u.rows[e],r=this.content.firstChild.cloneNode(!0),o=document.createDocumentFragment();const i=[...r.childNodes];i.forEach(e=>o.appendChild(e)),this.setContent(o,!0);const s=this.container.createChildContainer();s.register("OwnerContext",{useValue:this.context}),s.register("container",{useValue:s});const c=s.resolve("ILocalContext");this.oldChildContexts.push(c),c.setAsSource(`${t}.current`,n,u.cloneOptions()),s.register("context",{useValue:c});const a=s.resolve(l.Z);this.collections.push(a),yield a.processNodesAsync(i)}})}disposeExistingObjectAsync(){return x(this,void 0,void 0,function*(){var e;0<this.oldChildContexts.length&&(this.oldChildContexts.forEach(e=>e.dispose()),this.oldChildContexts.splice(0,this.oldChildContexts.length)),0<this.collections.length&&(e=this.collections.map(e=>e.disposeAsync()),yield Promise.all(e),this.collections.splice(0,this.collections.length))})}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});return x(this,void 0,void 0,function*(){return yield this.disposeExistingObjectAsync(),e.disposeAsync.call(this)})}},T=O=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),A(0,(0,n.f3)("element")),A(1,(0,n.f3)("context")),A(2,(0,n.f3)("container")),w("design:paramtypes",[Element,Object,Object])],O),k=__webpack_require__(877),E=__webpack_require__(986),R=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class j extends E.Z{constructor(e,t){super(e,t),this.priority=d.UL.none,this.keyFieldNameToken=this.getAttributeToken("bc-keyField"),this.statusFieldNameToken=this.getAttributeToken("bc-statusField"),this.mergeTypeToken=this.getAttributeToken("bc-merge"),this.eventHandler=this.onEventTriggerAsync.bind(this)}initializeAsync(){const n=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});var r;return R(this,void 0,void 0,function*(){yield n.initializeAsync.call(this);const e=yield this.getAttributeValueAsync("bc-triggers");var t=this.node.hasAttribute("data-bc-init");e&&!t&&(this.eventTriggers=e.split(" "),null!==(r=this.eventTriggers)&&void 0!==r&&r.forEach(e=>this.node.addEventListener(e,this.eventHandler)),this.node.setAttribute("data-bc-init",""))})}runAsync(e){return this.onEventTriggerAsync()}onEventTriggerAsync(c){const a=Object.create(null,{createCallbackArgument:{get:()=>super.createCallbackArgument}});var u;return R(this,void 0,void 0,function*(){null!=c&&c.preventDefault();let e=yield this.getSourceIdAsync(),t=yield this.getSourceValueAsync(c);this.onProcessingAsync&&(r=a.createCallbackArgument.call(this,{id:e,value:t}),yield this.onProcessingAsync(r),e=r.id,t=r.value);let n;if(this.mergeTypeToken){const s=yield this.mergeTypeToken.getValueAsync();s&&(n=d.dx[s.toLowerCase()])}var r,o=new k.Z(null!==e&&void 0!==e?e:"cms.unknown",t,{keyFieldName:yield null===(u=this.keyFieldNameToken)||void 0===u?void 0:u.getValueAsync(),statusFieldName:yield null===(u=this.statusFieldNameToken)||void 0===u?void 0:u.getValueAsync(),mergeType:n});let i=yield this.getIfValueAsync();i&&this.onRenderingAsync&&(r=this.createCallbackArgument({prevent:!1,source:o}),yield this.onRenderingAsync(r),i=!r.prevent),i&&(this.context.setSource(o),this.onRenderedAsync&&(yield this.onRenderedAsync(this.createCallbackArgument({result:null,source:o})))),this.onProcessedAsync&&(o=a.createCallbackArgument.call(this,{id:e,value:t}),yield this.onProcessedAsync(o))})}getSourceIdAsync(){return R(this,void 0,void 0,function*(){let e=yield this.getAttributeValueAsync("bc-name");return e=e||(yield this.getAttributeValueAsync("name")),e})}getSourceValueAsync(e){return R(this,void 0,void 0,function*(){let e=yield this.getAttributeValueAsync("bc-value");if(!e)try{e=this.node.value}catch(e){}return e})}disposeAsync(){var e;return null!==(e=this.eventTriggers)&&void 0!==e&&e.forEach(e=>this.node.removeEventListener(e,this.eventHandler)),this.node.removeAttribute("data-bc-init"),super.disposeAsync()}}var C=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(n,r){return function(e,t){r(e,t,n)}},S=class extends j{constructor(e,t){super(e,t)}getSourceValueAsync(e){const r=new FormData(this.node),o=new Map,t=Array.from(r.keys()).reduce((e,t)=>{var n=r.get(t);return t.startsWith("_")?o.set(t,n):e[t]=n,e},{});if(0<o.size){const n=this.convertRootList(o);[...n.keys()].forEach(e=>t[e]=n.get(e))}return Promise.resolve(t)}convertRootList(n){const r=new Map;return[...n.keys()].forEach(e=>{const o=n.get(e),[t,...i]=e.split(".");let s=r.get(t);s||(s={},r.set(t,s)),i.forEach((t,e)=>{var[n,r]=t.split("__",2);if(r){let e=s[n];e||(s[n]=e=[]);let t=e[r];t||(e[r]=t={}),s=t}else if(e+1==i.length)s[t]=o;else{let e=s[t];e||(s[t]=e={}),s=e}})}),[...r.values()].forEach(e=>{!function n(r){Object.keys(r).forEach(e=>{let t=r[e];Array.isArray(t)?(r[e]=t=t.filter(String),t.forEach(e=>n(e))):"object"==typeof t&&n(t)})}(e)}),r}},D=S=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),P(0,(0,n.f3)("element")),P(1,(0,n.f3)("context")),C("design:paramtypes",[HTMLFormElement,Object])],S),r=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e=function(n,r){return function(e,t){r(e,t,n)}},L=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},o=class extends j{constructor(e,t){super(e,t)}getSourceValueAsync(t){const n=Object.create(null,{getSourceValueAsync:{get:()=>super.getSourceValueAsync}});return L(this,void 0,void 0,function*(){let e=yield n.getSourceValueAsync.call(this,t);if(!e)switch(this.node.type){case"checkbox":e=this.node.checked;break;case"file":e={value:this.node.files};break;default:e=this.node.value}return e})}},c=o=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),e(0,(0,n.f3)("element")),e(1,(0,n.f3)("context")),r("design:paramtypes",[HTMLInputElement,Object])],o),s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(n,r){return function(e,t){r(e,t,n)}},a=class extends j{constructor(e,t){super(e,t)}},p=a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),i(0,(0,n.f3)("element")),i(1,(0,n.f3)("context")),s("design:paramtypes",[HTMLElement,Object])],a),h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(n,r){return function(e,t){r(e,t,n)}},M=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},A=class extends j{constructor(e,t){super(e,t)}getSourceValueAsync(e){const t=Object.create(null,{getSourceValueAsync:{get:()=>super.getSourceValueAsync}});var n;return M(this,void 0,void 0,function*(){return null!==(n=this.node.value)&&void 0!==n?n:yield t.getSourceValueAsync.call(this,e)})}},w=A=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),_(0,(0,n.f3)("element")),_(1,(0,n.f3)("context")),h("design:paramtypes",[HTMLSelectElement,Object])],A),O=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(n,r){return function(e,t){r(e,t,n)}},N=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},P=class extends f.Z{constructor(e,t){super(e,t)}runAsync(){return N(this,void 0,void 0,function*(){var e=yield this.getAttributeValueAsync("name"),t=yield this.getAttributeValueAsync("value"),n=yield this.getAttributeValueAsync("max-age"),r=yield this.getAttributeValueAsync("path"),t=`${e.trim()}=${t||""}`;n&&(t+=`;max-age=${n}`),r&&(t+=`;path=${r.trim()}`),document.cookie=t})}},C=P=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),E(0,(0,n.f3)("element")),E(1,(0,n.f3)("context")),O("design:paramtypes",[Element,Object])],P),I=__webpack_require__(102);class V{constructor(e,t,n){this.key=e,this.version=t,this.nodes=Array.from(n.childNodes)}AppendTo(t){if(t instanceof Node)this.nodes.forEach(e=>t.appendChild(e));else if(t instanceof Range){const n=t.extractContents();this.nodes.forEach(e=>n.appendChild(e)),t.insertNode(n)}}}class ${constructor(){this.groups=new Map}set(e,t,n="default"){let r=this.groups[n];r||(r=new Map,this.groups[n]=r),r.set(null!=e?e:t,t)}get(e,t="default"){return null===(t=this.groups[t])||void 0===t?void 0:t.get(e)}}class q{constructor(e,t){this.result=e,this.repository=t}}var Z=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class F extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,F.prototype)}renderAsync(s,c){return Z(this,void 0,void 0,function*(){let e=null;var r,t,n,o,i;return 0==this.length?s.setRendered():(r=s.rowType,(i=this.filter(e=>{var t=e.RelatedRows.some(e=>I.Z.Equal(e,c)),n=e.RowType==d.A$.NotSet||e.RowType==r,e=null==e.Levels||e.Levels.some(t=>s.Levels.some(e=>e==t));return t&&n&&e})[0])?([t,n,o]=yield s.getRenderedResultAsync(c),e=o||(i=yield i.template.getValueAsync(c),i=$bc.util.toHTMLElement(i),s.factory(t,n,i)),s.setRendered()):s.setIgnored()),e})}}class U{constructor(e,t,n){this.Level=e.GetStringToken("level",t),this.RowType=e.GetStringToken("rowtype",t),this.Filter=e.GetStringToken("filter",t),this.Template=e.getXMLTemplate(),n&&(this.Template=I.Z.ReplaceEx(this.Template,"@child",`<basis-core-template-tag data-type="${n}"></basis-core-template-tag>`))}}class B{constructor(e,t){this.rawExpression=e,this.reservedKeys=t}getValueAsync(e){var t,n;if(!this.getValue)try{this.getValue=new Function("$functionArgumentData",`${null!==(n=null===(t=this.reservedKeys)||void 0===t?void 0:t.map(e=>`const ${e} = '@${e}'`).join(";"))&&void 0!==n?n:""}
          ${Object.getOwnPropertyNames(e).map(e=>`const ${e} = $functionArgumentData["${e}"]`).join(";")}
            return ${this.rawExpression};`)}catch(e){throw console.error(`Error in create binding expression for '${this.rawExpression}'`,e),e}return Promise.resolve(this.getValue(e))}}class K{constructor(e){this.content=e}getValueAsync(e){return Promise.resolve(this.content)}}var W=__webpack_require__(827),G=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class H{constructor(e,t){this.token=new W.Z(e,t)}getValueAsync(e){return G(this,void 0,void 0,function*(){return yield this.token.executeAsync(e)})}}var z=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class X{constructor(e,t,n){this.contents=new Array,this.context=e,this.template=t,this.reservedKeys=n,t&&this.extractContents()}extractContents(){var e=this.context.options.getDefault("binding.face-regex"),t=this.context.options.getDefault("binding.codeblock-regex");const n=new RegExp(`${e.source}|${t.source}`,"gi");let r=0;for(;null!==(c=n.exec(this.template));){var o=c[0],i=c[1],s=c.index+(null!==(s=null==i?void 0:i.length)&&void 0!==s?s:0);r!=s&&this.contents.push(new K(this.template.slice(r,s))),r=s+o.length;var c,o=null!==(o=c[2])&&void 0!==o?o:c[3];o?(this.contents.push(new B(o,this.reservedKeys)),r-=null!==(i=null==i?void 0:i.length)&&void 0!==i?i:0):(c=c[4],this.contents.push(new H(c,this.context)))}r!=this.template.length&&this.contents.push(new K(this.template.slice(r)))}getValueAsync(n){return z(this,void 0,void 0,function*(){var e=this.contents.map(e=>e.getValueAsync(n));const t=yield Promise.all(e);return t.reduce((e,t)=>e+=t,"")})}}var J=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class Q extends Array{static Create(e,t,n){var r=new Q;return e.querySelectorAll("face").forEach(e=>r.push(new U(e,t,n))),r}processAsync(o,i,s){return J(this,void 0,void 0,function*(){var e=this.map(r=>J(this,void 0,void 0,function*(){var e=yield this.GetRowTypeAsync(r.RowType),t=null!==(n=null===(t=yield null===(n=r.Level)||void 0===n?void 0:n.getValueAsync())||void 0===t?void 0:t.split("|"))&&void 0!==n?n:null,n=yield null===(n=r.Filter)||void 0===n?void 0:n.getValueAsync();return{RowType:e,Levels:t,RelatedRows:I.Z.IsNullOrEmpty(n)?o.rows:yield $bc.util.source.filterAsync(o,n,i),template:new X(i,r.Template,s)}})),e=yield Promise.all(e);return new F(...e)})}GetRowTypeAsync(r){return J(this,void 0,void 0,function*(){var e,t=d.A$.NotSet,n=yield null==r?void 0:r.getValueAsync();return t=n?1==(e=Object.getOwnPropertyNames(d.A$).filter(e=>I.Z.isEqual(e,n))).length?d.A$[e[0]]:d.A$.NotSet:t})}}var Y=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class ee{constructor(e,t,n,r){this.source=e,this.renderResultRepository=t,this.factory=n,this.groupName=r,this._renderedCount=0}get rowType(){return this._renderedCount%2==0?d.A$.Even:d.A$.Odd}getRenderedResultAsync(r){var o;return Y(this,void 0,void 0,function*(){var e=this.getKeyValue(r),t=this.source.getVersion(r);let n=null===(o=this.renderResultRepository)||void 0===o?void 0:o.get(e,this.groupName);return n&&t!==n.version&&(n=null),[e,t,n]})}getKeyValue(e){return this.source.keyFieldName?Reflect.get(e,this.source.keyFieldName):e}setLevel(e){this.Levels=e}setRendered(){this._renderedCount++}setIgnored(){this._renderedCount--}}var te=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class ne extends b{constructor(e,t,n,r){super(e,t),this.container=n,this.reservedKeys=r}renderSourceAsync(n){return te(this,void 0,void 0,function*(){let e;var t;return n.rows&&(t=yield Q.Create(this.node,this.context,this.reservedKeys?this.reservedKeys[0]:null).processAsync(n,this.context,this.reservedKeys),t=yield this.renderDataPartAsync(n,t),this.renderResultRepository=t.repository,e=t.result),yield this.createContentAsync(e)})}createContentAsync(i){var s;return te(this,void 0,void 0,function*(){const t=new DocumentFragment;if(0<(null==i?void 0:i.length)){const r=null===(s=this.node.querySelector("layout"))||void 0===s?void 0:s.GetXMLTemplateToken(this.context);let e=yield null===r||void 0===r?void 0:r.getValueAsync();if(e){var n=Date.now().toString(36);e=I.Z.ReplaceEx(e,"@child",`<basis-core-template-child-tag id="${n}"></basis-core-template-child-tag>`),this.appendTemplateToDoc(e,t);n=t.querySelector(`basis-core-template-child-tag#${n}`);if(n){const o=new Range;o.selectNode(n),o.deleteContents(),i.forEach(e=>e.AppendTo(o)),o.detach()}else this.context.logger.logWarning("@child place holder not found in layout template")}else i.forEach(e=>e.AppendTo(t))}else{n=null===(s=this.node.querySelector("else-layout"))||void 0===s?void 0:s.GetXMLTemplateToken(this.context),n=yield null==n?void 0:n.getValueAsync();n&&this.appendTemplateToDoc(n,t)}return yield this.setContentAsync(t)})}renderDataPartAsync(i,s){return te(this,void 0,void 0,function*(){var e=new ee(i,this.renderResultRepository,(e,t,n)=>new V(e,t,n));const t=new $,n=new Array;for(const o of i.rows){var r=yield s.renderAsync(e,o);r&&(t.set(r.key,r),n.push(r))}return new q(n,t)})}appendTemplateToDoc(e,t){e=$bc.util.toHTMLElement(e);"parsererror"!==e.nodeName?Array.from(e.childNodes).forEach(e=>t.appendChild(e)):t.appendChild(e)}setContentAsync(n){return te(this,void 0,void 0,function*(){var e=Array.from(n.childNodes);this.setContent(n,!1);const t=this.container.resolve(l.Z);return yield t.processNodesAsync(e),e})}}var S=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e=function(n,r){return function(e,t){r(e,t,n)}},re=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},r=class extends ne{constructor(e,t,n){super(e,t,n)}createContentAsync(h){const e=Object.create(null,{createContentAsync:{get:()=>super.createContentAsync}});var p;return re(this,void 0,void 0,function*(){let o=null;const i=this.node.querySelector("divider");if(i&&0<(null==h?void 0:h.length)){const a=yield null===(p=null===i||void 0===i?void 0:i.GetTemplateToken(this.context))||void 0===p?void 0:p.getValueAsync(),u=yield null===(p=null===i||void 0===i?void 0:i.GetIntegerToken("rowcount",this.context))||void 0===p?void 0:p.getValueAsync();var s=yield null===(p=null===(p=this.node.querySelector("incomplete"))||void 0===p?void 0:p.GetXMLTemplateToken(this.context))||void 0===p?void 0:p.getValueAsync();const l=s?$bc.util.toHTMLElement(s):document.createElement("div");let t="";const d=Date.now().toString(36);let n=u;for(h.forEach(e=>{t+=`<basis-core-template-list-item-tag data-type="${d}"></basis-core-template-list-item-tag>`,n--,0==n&&(t+=a,n=u)});0<n&&n<u;){t+=`<basis-core-template-list-item-tag data-type="${d}"></basis-core-template-list-item-tag>`;var c=new V(null,0,l.cloneNode(!0));h.push(c),n--}let r,e=yield null===(p=null===(p=this.node.querySelector("layout"))||void 0===p?void 0:p.GetXMLTemplateToken(this.context))||void 0===p?void 0:p.getValueAsync();e?(e=I.Z.ReplaceEx(e,"@child",t),r=new DocumentFragment,Array.from($bc.util.toNode(e).firstChild.childNodes).forEach(e=>r.appendChild(e))):r=$bc.util.toNode(t);const f=Array.from(r.querySelectorAll(`basis-core-template-list-item-tag[data-type="${d}"]`));n=0,h.forEach(e=>{const t=new Range;t.selectNode(f[n++]),t.deleteContents(),e.AppendTo(t),t.detach()}),o=this.setContentAsync(r)}else o=e.createContentAsync.call(this,h);return yield o})}},o=r=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),e(0,(0,n.f3)("element")),e(1,(0,n.f3)("context")),e(2,(0,n.f3)("container")),S("design:paramtypes",[Element,Object,Object])],r),i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(n,r){return function(e,t){r(e,t,n)}},a=class extends ne{constructor(e,t,n){super(e,t,n)}},_=a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),s(0,(0,n.f3)("element")),s(1,(0,n.f3)("context")),s(2,(0,n.f3)("container")),i("design:paramtypes",[Element,Object,Object])],a);class oe{static ApplySimpleFilter(e,t,n){e="string"==typeof n&&n.isEqual("null")?e.filter(e=>null===e[t]):e.filter(e=>e[t]==n);return e}static addRowNumber(e){var t=1;e.forEach(e=>{e.rownumber=t++})}}class ie extends V{constructor(e,t,n){super(e,t,n),this.contentNodes=null;n=n.querySelector('basis-core-template-tag[data-type="child"]');n&&(this.contentRange=new Range,this.contentRange.selectNode(n),this.contentRange.deleteContents())}setContent(e){var t,n;this.contentRange&&(0<(null==(n=this.contentNodes)?void 0:n.length)&&(this.contentRange.detach(),this.contentRange=new Range,this.contentRange.setStartBefore(n[0]),this.contentRange.setEndAfter(n[n.length-1]),null!==(t=this.contentRange)&&void 0!==t&&t.deleteContents()),e?(this.contentNodes=[...e.childNodes],null!==(t=this.contentRange)&&void 0!==t&&t.insertNode(e)):(null!==(e=this.contentRange)&&void 0!==e&&e.deleteContents(),this.contentNodes=null))}}var h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=function(n,r){return function(e,t){r(e,t,n)}},se=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},E=class extends ne{constructor(e,t,n){super(e,t,n,["child"])}FaceRenderResultFactory(e,t,n){return new ie(e,t,n)}renderDataPartAsync(u,l){return se(this,void 0,void 0,function*(){var e=new $;if(0!=u.rows.length){var t=yield this.getAttributeValueAsync("parentidcol","parentid"),n=yield this.getAttributeValueAsync("idcol","id"),r=yield this.getAttributeValueAsync("nullvalue","0"),o=oe.ApplySimpleFilter(u.rows,t,r);if(0==o.length)throw new Error(`Tree command has no root record in data member '${u.id}' with '${r}' value in '${t}' column that set in NullValue attribute.`);var i=new ee(u,this.renderResultRepository,(e,t,n)=>new ie(e,t,n)),s=new Array;for(const a of o){var c=yield this.renderLevelAsync(u,i,1,l,n,t,e,a);s.push(c)}return new q(s,e)}})}renderLevelAsync(c,a,u,l,d,f,h,p){return se(this,void 0,void 0,function*(){var e=$bc.util.toNode(" "),t=oe.ApplySimpleFilter(c.rows,f,p[d]);a.setLevel(0!=t.length?[`${u}`]:[`${u}`,"end"]);const n=yield l.renderAsync(a,p);if(n){if(h.set(n.key,n),n.setContent(null),0!=t.length){var r=u+1,o=new ee(c,this.renderResultRepository,(e,t,n)=>new ie(e,t,n));for(const i of t){const s=yield this.renderLevelAsync(c,o,r,l,d,f,h,i);s.AppendTo(e)}}n.setContent(e)}return n})}},O=E=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),A(0,(0,n.f3)("element")),A(1,(0,n.f3)("context")),A(2,(0,n.f3)("container")),h("design:paramtypes",[Element,Object,Object])],E),ce=__webpack_require__(157),P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e=function(n,r){return function(e,t){r(e,t,n)}},ae=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},S=class extends ne{constructor(e,t,n){super(e,t,n,["child"])}renderDataPartAsync(h,p){return ae(this,void 0,void 0,function*(){const e=new $;if(0!=h.rows.length){var t=this.getAttributeToken("groupcol");const s=(yield ce.Z.GetValueOrSystemDefaultAsync(t,this.context,"ViewCommand.GroupColumn")).toLowerCase();t=h.rows.map(e=>e[s]).filter((e,t,n)=>n.indexOf(e)===t);const c=new ee(h,this.renderResultRepository,(e,t,n)=>new ie(e,t,n),"root");c.setLevel(["1"]);var n=new Array;for(const a of t){var r=oe.ApplySimpleFilter(h.rows,s,a),o=r[0];const u=yield p.renderAsync(c,o);if(u){e.set(u.key,u,"root"),u.setContent(null);const l=new ee(h,this.renderResultRepository,(e,t,n)=>new ie(e,t,n));l.setLevel(["2"]);var i=$bc.util.toNode(" ");for(const d of r){const f=yield p.renderAsync(l,d);e.set(f.key,f),f.AppendTo(i)}u.setContent(i),n.push(u)}}}return new q(n,e)})}},r=S=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),e(0,(0,n.f3)("element")),e(1,(0,n.f3)("context")),e(2,(0,n.f3)("container")),P("design:paramtypes",[Element,Object,Object])],S),ue=__webpack_require__(231);class le extends f.Z{constructor(e,t){super(e,t),this.priority=d.UL.normal}}var s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=function(n,r){return function(e,t){r(e,t,n)}},de=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},a=class extends le{constructor(e,t){super(e,t),this.urlToken=this.getAttributeToken("url"),this.methodToken=this.getAttributeToken("method"),this.bodyToken=this.getAttributeToken("body"),this.nameToken=this.getAttributeToken("name"),this.contentType=this.getAttributeToken("Content-Type")}runAsync(){var c;return de(this,void 0,void 0,function*(){var e=null===(c=yield null===(c=this.methodToken)||void 0===c?void 0:c.getValueAsync())||void 0===c?void 0:c.toUpperCase(),t=yield null===(c=this.urlToken)||void 0===c?void 0:c.getValueAsync();let n;const r={method:e,body:yield null===(c=this.bodyToken)||void 0===c?void 0:c.getValueAsync()};e=this.contentType?yield this.contentType.getValueAsync():"application/json";e&&0<e.length&&(r.headers={"Content-Type":e});e=new Request(t,r);this.onProcessingAsync&&(t=this.createCallbackArgument({request:e}),yield this.onProcessingAsync(t),t.response&&(n=yield t.response)),n=n||(yield fetch(e));let o;if(this.onProcessedAsync){var i=this.createCallbackArgument({request:e,response:n});yield this.onProcessedAsync(i),o=i.results}else{const s=yield n.json();o=null!==s&&void 0!==s&&s.sources?null===s||void 0===s?void 0:s.sources.map(e=>new ue.Z(e.options.tableName,e.data,e.options)):(i=null!==(c=yield null===(c=this.nameToken)||void 0===c?void 0:c.getValueAsync())&&void 0!==c?c:"cms.api",[new ue.Z(i,s)])}null!==o&&void 0!==o&&o.forEach(e=>{e=new k.Z(e.id,e.rows,e.options);this.context.setSource(e)})})}},A=a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),i(0,(0,n.f3)("element")),i(1,(0,n.f3)("context")),s("design:paramtypes",[Element,Object])],a),h=__webpack_require__(242),fe=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class he extends class{constructor(e,t){this.context=t,this.element=e,this.name=e.getAttribute("name"),this.previewToken=e.GetBooleanToken("preview",t),this.sortToken=e.GetStringToken("sort",t),this.postSqlToken=e.GetStringToken("postsql",t),this.rawContentToken=e.textContent.ToStringToken(t)}addDataSourceAsync(i,s,c){var a;return fe(this,void 0,void 0,function*(){var e,t=null===(a=this.postSqlToken)||void 0===a?void 0:a.getValueAsync(),n=null===(a=this.sortToken)||void 0===a?void 0:a.getValueAsync(),r=null===(a=this.previewToken)||void 0===a?void 0:a.getValueAsync(),o=`${s}.${this.name}`.toLowerCase(),r=yield r,n=yield n,t=yield t;t&&(I.Z.HasValue(e)||(e=yield this.context.getOrLoadDbLibAsync()),i=e(I.Z.ReplaceEx(t,`\\[${o}\\]`,"?"),[i])),n&&(I.Z.HasValue(e)||(e=yield this.context.getOrLoadDbLibAsync()),i=e(`SELECT * FROM ? order by ${n}`,[i])),oe.addRowNumber(i);o=new k.Z(o,i,c);this.context.setSource(o,r)})}}{constructor(e,t){super(e,t)}}var pe=__webpack_require__(479),ye=__webpack_require__(314),_e=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class ve extends le{constructor(e,t){super(e,t),this.allowMultiProcess=!0,this.members=[...this.node.querySelectorAll("member")]}initializeAsync(){const e=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});return _e(this,void 0,void 0,function*(){yield e.initializeAsync.call(this),this.id=yield this.getAttributeValueAsync("name")})}runAsync(){return _e(this,void 0,void 0,function*(){this.oldConnectionName=null,0<this.members.length&&(yield this.loadDataAsync())})}processLoadedDataSet(r){if(!this.disposed){const e=this.members.map(e=>this.convertToMemberObject(e));if(e.length!=r.length)throw new Error(`Command '${this.id}' has ${e.length} member(s) but ${r.length} result(s) returned from source!`);e.forEach((t,n)=>_e(this,void 0,void 0,function*(){var e=r[n];yield t.addDataSourceAsync(e.rows,this.id,e.options)}))}return!this.disposed}loadDataAsync(){return _e(this,void 0,void 0,function*(){var e=yield this.getAttributeValueAsync("source");if(this.oldConnectionName){if(this.oldConnectionName!==e)throw new pe.Z(`Source Attribute Can't Change in Existing Context. Valid Connection Is '${this.oldConnectionName}'`)}else this.oldConnectionName=e;const t=this.node.outerHTML.ToStringToken(this.context);var n={command:yield t.getValueAsync(),dmnid:this.context.options.getDefault("dmnid")},n=this.context.loadDataAsync(this.id,e,n,this.processLoadedDataSet.bind(this));n instanceof ye.Z||(yield n)})}}var E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e=function(n,r){return function(e,t){r(e,t,n)}},P=class extends ve{constructor(e,t){super(e,t)}convertToMemberObject(e){return new he(e,this.context)}},S=P=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),e(0,(0,n.f3)("element")),e(1,(0,n.f3)("context")),E("design:paramtypes",[Element,Object])],P),i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(n,r){return function(e,t){r(e,t,n)}},ge=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},a=class extends f.Z{constructor(e,t,n){super(e,t),this.container=n}initializeAsync(){const t=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});return ge(this,void 0,void 0,function*(){yield t.initializeAsync.call(this);var e=this.core.slice(this.core.indexOf(".")+1),e=yield $bc.util.getComponentAsync(this.context,e);this.manager=Reflect.construct(e,[this]),this.manager.initializeAsync&&(yield this.manager.initializeAsync())})}runAsync(e){return this.manager.runAsync?this.manager.runAsync(e):Promise.resolve()}toNode(e){return $bc.util.toNode(e)}toHTMLElement(e){return $bc.util.toHTMLElement(e)}setContent(e){this.range.setContent(e)}getDefault(e,t){return this.context.options.getDefault(e,t)}getSetting(e,t){return this.context.options.getSetting(e,t)}setSource(e,t,n,r){this.context.setAsSource(e,t,n,r)}tryToGetSource(e){return this.context.tryToGetSource(e)}waitToGetSourceAsync(e){return this.context.waitToGetSourceAsync(e)}processNodesAsync(t){return ge(this,void 0,void 0,function*(){const e=this.container.resolve(l.Z);return this.collections||(this.collections=new Array),this.collections.push(e),yield e.processNodesAsync(t),e})}disposeAsync(){const t=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});var n;return ge(this,void 0,void 0,function*(){var e=null===(n=this.collections)||void 0===n?void 0:n.map(e=>e.disposeAsync());return yield Promise.all(e),t.disposeAsync.call(this)})}storeAsGlobal(e,t,n,r){return $bc.util.storeAsGlobal(e,t,n,r)}getRandomName(e,t){return $bc.util.getRandomName(e,t)}format(e,...t){return $bc.util.format(e,t)}},e=a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),s(0,(0,n.f3)("element")),s(1,(0,n.f3)("context")),s(2,(0,n.f3)("container")),i("design:paramtypes",[Element,Object,Object])],a),E=__webpack_require__(294),P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(n,r){return function(e,t){r(e,t,n)}},s=class extends E.Z{constructor(e,t,n){super(e,n,t.logger),this.owner=t,this.handler=this.owner.onDataSourceSet.Add(this.setSourceFromOwner.bind(this))}dispose(){this.owner.onDataSourceSet.Remove(this.handler)}getOrLoadDbLibAsync(){return this.owner.getOrLoadDbLibAsync()}getOrLoadObjectAsync(e,t){return this.getOrLoadObjectAsync(e,t)}loadPageAsync(e,t,n){return this.owner.loadPageAsync(e,t,n)}loadDataAsync(e,t,n,r){return this.owner.loadDataAsync(e,t,n,r)}tryToGetSource(e){var t;return null!==(t=super.tryToGetSource(e))&&void 0!==t?t:this.owner.tryToGetSource(e)}},i=s=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),f(0,(0,n.f3)("IContextRepository")),f(1,(0,n.f3)("OwnerContext")),f(2,(0,n.f3)("HostOptions")),P("design:paramtypes",[Object,E.Z,t.G])],s),a=class{logSource(e){console.log(e),console.table(null==e?void 0:e.rows)}logError(e,t){console.error(e,t)}logInformation(e,...t){t&&0<t.length?console.info(e,t):console.info(e)}logWarning(e){console.warn(e)}},f=a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.ri)()],a),me=__webpack_require__(919),P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(n,r){return function(e,t){r(e,t,n)}},s=class{constructor(e){this.repository=new Map,this.eventManager=new Map,this.resolves=new Map,this.logger=e}tryToGet(e){return this.repository.get(null==e?void 0:e.toLowerCase())}setSourceFromOwner(e){var t;this.repository.has(e.id)&&this.repository.delete(e.id),null!==(t=this.eventManager.get(e.id))&&void 0!==t&&t.Trigger(e),this.logger.logInformation(`${e.id} Added from owner context...`)}setSourceEx(o){const i=this.repository.get(o.id);return o.mergeType==d.dx.replace?i?i.replace(o):this.repository.set(o.id,o):o.mergeType==d.dx.append&&(i?o.keyFieldName&&i.keyFieldName?o.rows.forEach(e=>{const t=Reflect.get(e,o.keyFieldName);var n,r=o.statusFieldName?Reflect.get(e,o.statusFieldName):d.rq.added;r==d.rq.added?i.addRow(e):-1!==(n=i.rows.findIndex(e=>Reflect.get(e,i.keyFieldName)==t))&&(r==d.rq.deleted?i.removeRowFormIndex(n):r==d.rq.edited&&i.replaceRowFromIndex(n,e))}):i.addRows(o.rows):this.repository.set(o.id,o)),null!==i&&void 0!==i?i:o}setSource(e,t){var n=this.setSourceEx(e);return t&&this.logger.logSource(e),null!==(t=this.eventManager.get(n.id))&&void 0!==t&&t.Trigger(n),this.logger.logInformation(`${n.id} ${e===n?"Added":"Updated"}...`),n}addHandler(e,t){e=null==e?void 0:e.toLowerCase();let n=this.eventManager.get(e);n||(n=new me.Z,this.eventManager.set(e,n)),n.Add(t)&&this.logger.logInformation(`handler Added for ${e}...`)}removeHandler(e,t){e=null==e?void 0:e.toLowerCase();let n=this.eventManager.get(e);n&&n.Remove(t)&&this.logger.logInformation(`handler removed for ${e}...`)}waitToGetAsync(n){return new Promise(e=>{n=null==n?void 0:n.toLowerCase(),this.logger.logInformation(`wait for ${n}`);let t=this.resolves.get(n);t||(t=new me.Z,this.resolves.set(n,t)),t.Add(e)})}},a=s=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),E(0,(0,n.f3)("ILogger")),P("design:paramtypes",[Object])],s),be=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};class we{constructor(e,t){this._faces=Array.from(e.querySelectorAll("face")).map(e=>new Ae(e,t))}getValueAsync(o){return be(this,void 0,void 0,function*(){let e=null;for(const n of o)for(const r of this._faces){var t=yield r.tryGetValueAsync(n);if(t){e+=t;break}}return e})}}class Ae{constructor(e,t){var n;this._schemaIdList=null===(n=e.getAttribute("schemaIds"))||void 0===n?void 0:n.split(" ");e=e.getTemplate();this._template=new X(t,e,null)}tryGetValueAsync(e){return this._schemaIdList&&-1==this._schemaIdList.indexOf(e.schemaId)?null:this._template.getValueAsync(e)}}var xe=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};var E=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(n,r){return function(e,t){r(e,t,n)}},Oe=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})},s=class extends b{constructor(e,t){super(e,t)}initializeAsync(){const e=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});return Oe(this,void 0,void 0,function*(){yield e.initializeAsync.call(this),this.urlToken=this.getAttributeToken("schemaUrl"),this._faces=new we(this.node,this.context),console.log(this._faces)})}renderSourceAsync(t){return Oe(this,void 0,void 0,function*(){if(t){const e=t.rows;e.forEach(this.renderAnswerAsync.bind(this))}})}renderAnswerAsync(n){var r;return Oe(this,void 0,void 0,function*(){var e=yield null===(r=this.urlToken)||void 0===r?void 0:r.getValueAsync();const t=yield class{static makeAsync(o,n){return xe(this,void 0,void 0,function*(){const r=new Array;var e=I.Z.formatUrl(n,null,{id:o.schemaId,ver:o.schemaVersion,lid:o.lid});const t=(yield I.Z.getDataAsync(e)).sources[0].data[0];return t.questions.forEach(t=>{const e=null==o?void 0:o.properties.find(e=>e.prpId==t.prpId);var n={schemaId:null,prpId:t.prpId,typeId:t.typeId,title:t.title,answers:e.answers.map(e=>e.parts.map(e=>e.values.map(e=>e.value)))};r.push(n)}),r})}}.makeAsync(n,e);console.log(t),t.forEach(e=>{const t=document.createElement("div");t.appendChild(document.createTextNode(e.title)),this.setContent(t,!0)}),this._faces})}},s=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(s=(i<3?o(s):3<i?o(t,n,s):o(t,n))||s);return 3<i&&s&&Object.defineProperty(t,n,s),s}([(0,n.b2)(),P(0,(0,n.f3)("element")),P(1,(0,n.f3)("context")),E("design:paramtypes",[Element,Object])],s);n.nC.register("IBasisCore",{useToken:u}),n.nC.register("ILogger",{useToken:f}),n.nC.register("IContextRepository",{useToken:a}),n.nC.register("ILocalContext",{useToken:i}),n.nC.register("print",{useToken:_}),n.nC.register("tree",{useToken:O}),n.nC.register("view",{useToken:r}),n.nC.register("list",{useToken:o}),n.nC.register("list",{useToken:o}),n.nC.register("schemalist",{useToken:s}),n.nC.register("cookie",{useToken:C}),n.nC.register("call",{useToken:v}),n.nC.register("group",{useToken:g.Z}),n.nC.register("repeater",{useToken:T}),n.nC.register("callback",{useToken:h.Z}),n.nC.register("dbsource",{useToken:S}),n.nC.register("input",{useToken:c}),n.nC.register("select",{useToken:w}),n.nC.register("form",{useToken:D}),n.nC.register("unknown-html",{useToken:p}),n.nC.register("api",{useToken:A}),n.nC.register("component",{useToken:e});__webpack_require__(570);Object.defineProperty(Element.prototype,"GetObjectToken",{value:function(e,t){var n,e=this.getAttribute(e);return n=e?e.ToObjectToken(t):n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetStringToken",{value:function(e,t){var n,e=this.getAttribute(e);return n=e?e.ToStringToken(t):n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetIntegerToken",{value:function(e,t){var n,e=this.getAttribute(e);return n=e?e.ToIntegerToken(t):n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetBooleanToken",{value:function(e,t){var n,e=this.getAttribute(e);return n=e?e.ToBooleanToken(t):n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetTemplateToken",{value:function(e){e=(1==this.children.length&&I.Z.isEqual(this.children[0].nodeName,"script")&&I.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.textContent:this.innerHTML).ToStringToken(e);return e},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"getTemplate",{value:function(){var e=1==this.children.length&&I.Z.isEqual(this.children[0].nodeName,"script")&&I.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.textContent:this.innerHTML;return e},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetXMLTemplateToken",{value:function(e){e=(1==this.children.length&&I.Z.isEqual(this.children[0].nodeName,"script")&&I.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.children[0].outerHTML:`<basis-core-template-tag>${this.innerHTML}</basis-core-template-tag>`).ToStringToken(e);return e},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"getXMLTemplate",{value:function(){var e=1==this.children.length&&I.Z.isEqual(this.children[0].nodeName,"script")&&I.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.children[0].outerHTML:`<basis-core-template-tag>${this.innerHTML}</basis-core-template-tag>`;return e},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"isBasisCore",{value:function(){try{return this.nodeType==Node.ELEMENT_NODE&&"BASIS"==this.nodeName&&I.Z.isEqual(this.getAttribute("run"),"atclient")}catch(e){return!1}},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"isBasisTag",{value:function(){try{return this.nodeType==Node.ELEMENT_NODE&&this.hasAttribute("bc-triggers")}catch(e){return!1}},writable:!0,configurable:!0});var Te=function(e,s,c,a){return new(c=c||Promise)(function(n,t){function r(e){try{i(a.next(e))}catch(e){t(e)}}function o(e){try{i(a.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}i((a=a.apply(e,s||[])).next())})};var ke=__webpack_require__(835);class Ee{constructor(){this.elementList=null,this.hostSetting=null,this._basiscore=null,this.manager=new me.Z}get basiscore(){return this._basiscore}addFragment(e){if(this._basiscore)throw new pe.Z("Can't add fragment for already builded bc object.");if(this.elementList||(this.elementList=new Array),"string"==typeof e){var t=document.querySelectorAll(e);0===t.length?console.warn(`Selector '${e}' don't refer to any element(s).`):this.elementList.push(...t)}else{if(!(e instanceof Element))throw new pe.Z("Invalid selector");this.elementList.push(e)}return this}setOptions(e){if(this._basiscore)throw new pe.Z("Can't set option for already builded bc object.");return this.hostSetting=e,this}run(){var e;if(0==(null===(e=this.elementList)||void 0===e?void 0:e.length))throw new pe.Z("No element(s) selected for start rendering!");if(!this._basiscore){const t=n.nC.createChildContainer();t.register("IHostOptions",{useValue:null!==(e=this.hostSetting)&&void 0!==e?e:{}}),this.elementList||this.addFragment(document.documentElement),t.register("root.nodes",{useValue:this.elementList}),t.register("container",{useValue:t}),this._basiscore=t.resolve("IBasisCore"),this.manager.Trigger(this._basiscore)}return this}setSource(e,t,n){return this._basiscore?this._basiscore.setSource(e,t,n):this.run(),this}}console.log(`%cWelcome To BasisCore Ecosystem%c
follow us on https://BasisCore.com/
version:2.4.3`," background: yellow;color: #0078C1; font-size: 2rem; font-family: Arial; font-weight: bolder","color: #0078C1; font-size: 1rem; font-family: Arial;");const Re=new class{constructor(){this.all=new Array,this.util=new ke.Z}get global(){var e;return null!==(e=this._global)&&void 0!==e?e:this._global=this.new()}addFragment(e){return this.global.addFragment(e)}setOptions(e){return this.global.setOptions(e)}run(){return this.global.run()}setSource(e,t,n){return this.run().setSource(e,t,n)}new(){var e=new Ee;return this.all.push(e),e}};window.LocalDataBase=class{constructor(e,t){this._getSchemas=t,this._dataBaseName=e}dropAsync(){return Te(this,void 0,void 0,function*(){var e=yield this.executeAsync(`DROP localStorage DATABASE ${this._dataBaseName}`);return this._db=null,1==e})}executeAsync(e,n){return Te(this,void 0,void 0,function*(){return this._db||(yield this.InitializeAsync()),yield new Promise(t=>this._db.exec(e,n,e=>t(e)))})}executeAsTableAsync(t,o){return Te(this,void 0,void 0,function*(){var e=yield this.executeAsync(t,o),n=0<e.length?Object.getOwnPropertyNames(e[0]):[],r=[];return e.forEach(t=>r.push(n.map(e=>t[e]))),[n,...r]})}InitializeAsync(){return Te(this,void 0,void 0,function*(){if(!this._db){var e=alasql,t=e.exec(`CREATE localStorage DATABASE IF NOT EXISTS ${this._dataBaseName}`);if(e.exec(`ATTACH localStorage DATABASE ${this._dataBaseName}`),this._db=e.databases[this._dataBaseName],1==t)for(let[e,t]of this._getSchemas().entries()){var n=Object.getOwnPropertyNames(t).map(e=>`${e} ${t[e]}`).join(",");yield this.executeAsync(`CREATE TABLE IF NOT EXISTS ${e} (${n})`)}}})}},__webpack_require__.g.$bc=Re,window.MergeType=d.dx;const je=e=>{window.removeEventListener("load",je),0==Re.all.length&&t.G.defaultSettings.autoRender&&Re.run()};window.addEventListener("load",je)})()})();