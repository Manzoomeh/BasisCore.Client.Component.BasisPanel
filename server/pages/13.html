<style>
    .supplier_resize [data-bc-table] tr td:last-child a:nth-child(1):after {
        content: "ویرایش";
        position: absolute;
        bottom: 100%; /* At the top of the tooltip */
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: transparent transparent black transparent;
        height: 30px;
        background: black;
        color: #fff;
        border-radius: 5px;
        opacity: 0;
        visibility: hidden;
    }
    .supplier_resize [data-bc-table] tr td:last-child a:nth-child(2):after {
        content: "سفارشات";
        position: absolute;
        bottom: 100%; /* At the top of the tooltip */
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: transparent transparent black transparent;
        height: 30px;
        background: black;
        color: #fff;
        border-radius: 5px;
        opacity: 0;
        visibility: hidden;
    }
    .supplier_resize [data-bc-table] tr td:last-child a:nth-child(3):after {
        content: "تجهیزات";
        position: absolute;
        bottom: 100%; /* At the top of the tooltip */
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: transparent transparent black transparent;
        height: 30px;
        background: black;
        color: #fff;
        border-radius: 5px;
        opacity: 0;
        visibility: hidden;
    }
    .supplier_resize [data-bc-table] tr td:last-child a:hover:after {
        visibility: visible;
        /* Fade in */
        opacity: 1;
    }
    .supplier_resize [data-bc-table] tr td:last-child a {
        position: relative;
        display: inline-block;
        cursor: pointer;
    }
</style>
<basis core="dbsource" source="fingerfoodapi" name="db" run="atclient" cache="refresh">
    <member request="supplier_list" type="list" name="supplier_list" preview=""></member>
</basis>
<basis core="dbsource" source="fingerfoodapi" name="db" run="atclient" cache="refresh">
    <member request="brand_list" type="list" name="brand_list" preview=""></member>
</basis>

<div class="supplier_resize">
    <basis core="component.bc.grid" run="atclient" datamembername="db.supplier_list" options="optionsGrid"></basis>
</div>

<script>
    function supplierNew() {

        showModal("editModal");
        $bc.setSource("cms.form1", true)



    }
    var mySetting = {





        dateProvider: "basisCalendar",
        displayNote: true,
        culture: "fa",
        lid: 1





    }
    const supplierCalendarGrid = {

        columns: {

            rownumber: "ردیف",
            bundleTitle: "عنوان",
            sstring: "تاریخ",
            count: "تعداد",
            status: "وضعیت",
            action: {

                title: "عملیات",
                cellMaker: (row, data, td) => `<a onclick="showSupplierInfo(this,${
                    row.id
                })"><i class="lni lni-pencil-alt"></i></a>`,
                sort: false

            }



        },
        filter: "none",
        defaultSort: false,
        direction: "rtl",
        paging: 20,
        firstAndLastBtn: false,
        noData: "Ops, no data...!",
        culture: {

            labels: {

                "next": "بعدی",
                "previous": "قبلی",
                "first": "اولین صفحه",
                "last": "آخرین صفحه"

            }

        }

    };
    const supplierAccessoriesGrid = {

        columns: {

            rownumber: "ردیف",
            title: {

                title: "عنوان تجهیزات"



            },
            model: "مدل",
            count: "تعداد",
            remaining: "باقی‌مانده",
            sstring: {

                title: "تاریخ تحویل"

            }

        },
        filter: "none",
        defaultSort: false,
        direction: "rtl",
        paging: 20,
        culture: {

            labels: {

                "next": "بعدی",
                "previous": "قبلی",
                "first": "اولین صفحه",
                "last": "آخرین صفحه"

            }

        }

    };
    const optionsGrid = {

        columns: {

            rownumber: "ردیف",
            id: {

                title: "کد تامین‌کننده"

            },
            title: {

                title: "عنوان",
                sort: true

            },
            phone: "شماره تماس",
            action: {

                title: "عملیات",
                cellMaker: (row, data, td) => `<div class="icons">
                        <a title="ویرایش" nclick="showSupplierInfo(this,${
                    row.id
                })"><i class="lni lni-pencil-alt"></i></a>
                        <a title="لیست فعالیت ها" onclick="showCalendar(this,${
                    row.id
                })"><i class="lni lni-calendar"></i></a>
                        <a title="فعال" onclick="showAccessories(this,${
                    row.id
                })"><i class="lni lni-bar-chart"></i></a>
                    </div>`,
                sort: false

            }



        },
        filter: "none",
        defaultSort: false,
        direction: "rtl",
        paging: 20,
        firstAndLastBtn: false,
        noData: "Ops, no data...!",
        culture: {

            labels: {

                "next": "بعدی",
                "previous": "قبلی",
                "first": "اولین صفحه",
                "last": "آخرین صفحه"

            }

        }

    };

    function showSupplierInfo(e, id) {

        $bc.setSource("db.supplierid", id.toString())

    }
    function showAccessories(e, id) {

        $bc.setSource("db.supplieraccessories", id.toString())

    }
    function showCalendar(e, id) {

        $bc.setSource("db.suppliercalendar", id.toString())

    }
</script>
